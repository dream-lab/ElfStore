<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_201) on Sun Apr 12 05:01:22 IST 2020 -->
<title>FogServiceHandler</title>
<meta name="date" content="2020-04-12">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FogServiceHandler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":42,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":9,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":42,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":42,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":9,"i65":9,"i66":9,"i67":10,"i68":42,"i69":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../com/dreamlab/edgefs/servicehandler/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FogServiceHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/dreamlab/edgefs/servicehandler/FogServiceHandler.html" target="_top">Frames</a></li>
<li><a href="FogServiceHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.dreamlab.edgefs.servicehandler</div>
<h2 title="Class FogServiceHandler" class="title">Class FogServiceHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.dreamlab.edgefs.servicehandler.FogServiceHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>com.dreamlab.edgefs.thrift.FogService.Iface</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">FogServiceHandler</span>
extends java.lang.Object
implements com.dreamlab.edgefs.thrift.FogService.Iface</pre>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>swamiji</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#FogServiceHandler--">FogServiceHandler</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#FogServiceHandler-com.dreamlab.edgefs.controlplane.Fog-">FogServiceHandler</a></span>(com.dreamlab.edgefs.controlplane.Fog&nbsp;fog)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#bootstrapFog-com.dreamlab.edgefs.thrift.FogInfoData-">bootstrapFog</a></span>(com.dreamlab.edgefs.thrift.FogInfoData&nbsp;NodeX)</code>
<div class="block">For future use</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#buddyHeartBeat-com.dreamlab.edgefs.thrift.BuddyPayload-">buddyHeartBeat</a></span>(com.dreamlab.edgefs.thrift.BuddyPayload&nbsp;payload)</code>
<div class="block">Called by the Buddy Fogs to update their bloomfilter indexes</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.OpenStreamResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#closeLease-java.lang.String-java.lang.String-">closeLease</a></span>(java.lang.String&nbsp;streamId,
          java.lang.String&nbsp;clientId)</code>
<div class="block">A method when invoked will relinquish the lock, which was previously acquired
 during the openLease</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#edgeHeartBeats-com.dreamlab.edgefs.thrift.EdgePayload-">edgeHeartBeats</a></span>(com.dreamlab.edgefs.thrift.EdgePayload&nbsp;edgePayload)</code>
<div class="block">Periodically this is sent by Edge devices, this contains edge payload such as
 reliability, storage etc., This message is also used to detect whether the
 edge device is alive or dead.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#edgeJoin-com.dreamlab.edgefs.thrift.EdgeInfoData-">edgeJoin</a></span>(com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfoData)</code>
<div class="block">An Edge device calls this at the time of registering itself to a Fog</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#edgeLeave-com.dreamlab.edgefs.thrift.EdgeInfoData-">edgeLeave</a></span>(com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfoData)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.List&lt;com.dreamlab.edgefs.thrift.FindReplica&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#find-long-boolean-boolean-com.dreamlab.edgefs.thrift.EdgeInfoData-">find</a></span>(long&nbsp;microbatchId,
    boolean&nbsp;checkNeighbors,
    boolean&nbsp;checkBuddies,
    com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;selfInfo)</code>
<div class="block">This api is used to find all the locations where the block is present.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.FindBlockQueryResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findBlocksAndLocationsWithQuery-boolean-boolean-java.util.List-com.dreamlab.edgefs.thrift.ReplicaCount-com.dreamlab.edgefs.thrift.EdgeInfoData-">findBlocksAndLocationsWithQuery</a></span>(boolean&nbsp;checkNeighbors,
                               boolean&nbsp;checkBuddies,
                               java.util.List&lt;java.util.List&lt;com.dreamlab.edgefs.thrift.FindQueryCondition&gt;&gt;&nbsp;findQueryList,
                               com.dreamlab.edgefs.thrift.ReplicaCount&nbsp;replicacount,
                               com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfo)</code>
<div class="block">This function returns the locations and streamIDs of the metadata query
 passed List<List<FindQueryCondition>> findQueryList</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Long,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findBlockUsingQuery-java.util.Map-boolean-boolean-com.dreamlab.edgefs.thrift.MatchPreference-">findBlockUsingQuery</a></span>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;metaKeyValueMap,
                   boolean&nbsp;checkNeighbors,
                   boolean&nbsp;checkBuddies,
                   com.dreamlab.edgefs.thrift.MatchPreference&nbsp;matchPreference)</code>
<div class="block">Searches all blocks which match the query sent by the client.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Long,java.util.List&lt;com.dreamlab.edgefs.thrift.FindReplica&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findFast-java.util.List-boolean-boolean-com.dreamlab.edgefs.thrift.EdgeInfoData-">findFast</a></span>(java.util.List&lt;java.lang.Long&gt;&nbsp;microbatchIdList,
        boolean&nbsp;checkNeighbors,
        boolean&nbsp;checkBuddies,
        com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;selfInfo)</code>
<div class="block">Finds the first location (Fog and Edge) of the block being searched and
 returns as soon as the first location is found</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.nio.ByteBuffer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findNext-java.lang.String-">findNext</a></span>(java.lang.String&nbsp;microbatchId)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.SQueryResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findStream-com.dreamlab.edgefs.thrift.SQueryRequest-">findStream</a></span>(com.dreamlab.edgefs.thrift.SQueryRequest&nbsp;squery)</code>
<div class="block">Searches for stream based on the StreamQuery</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.NodeInfoData</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findStreamOwner-java.lang.String-boolean-boolean-">findStreamOwner</a></span>(java.lang.String&nbsp;streamId,
               boolean&nbsp;checkNeighbors,
               boolean&nbsp;checkBuddies)</code>
<div class="block">Finds the Fog IP/Port of a given stream was registered</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findStreamUsingQuery-java.util.Map-boolean-boolean-">findStreamUsingQuery</a></span>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;metaKeyValueMap,
                    boolean&nbsp;checkNeighbors,
                    boolean&nbsp;checkBuddies)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.QueryReplica</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findUsingQuery-java.lang.String-java.lang.String-boolean-boolean-">findUsingQuery</a></span>(java.lang.String&nbsp;metadataKey,
              java.lang.String&nbsp;metadataValue,
              boolean&nbsp;checkNeighbors,
              boolean&nbsp;checkBuddies)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">This method is deprecated use
             <a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findBlocksAndLocationsWithQuery-boolean-boolean-java.util.List-com.dreamlab.edgefs.thrift.ReplicaCount-com.dreamlab.edgefs.thrift.EdgeInfoData-"><code>findBlocksAndLocationsWithQuery(boolean, boolean, List, ReplicaCount, EdgeInfoData)</code></a></span></div>
</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.ReadReplica</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#get-long-boolean-java.lang.String-long-java.lang.String-">get</a></span>(long&nbsp;microbatchId,
   boolean&nbsp;fetchMetadata,
   java.lang.String&nbsp;compFormat,
   long&nbsp;uncompSize,
   java.lang.String&nbsp;clientId)</code>
<div class="block">Read the data of the given block number</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.util.List&lt;com.dreamlab.edgefs.thrift.FogInfoData&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getBuddyPoolMembers--">getBuddyPoolMembers</a></span>()</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;com.dreamlab.edgefs.thrift.NeighborInfoData&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getCandidatePool-double-short-">getCandidatePool</a></span>(double&nbsp;reliability,
                short&nbsp;pmin)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.ReadReplica</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getData-long-boolean-java.lang.String-long-com.dreamlab.edgefs.thrift.EdgeInfoData-">getData</a></span>(long&nbsp;microbatchId,
       boolean&nbsp;fetchMetadata,
       java.lang.String&nbsp;compFormat,
       long&nbsp;uncompSize,
       com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;selfInfo)</code>
<div class="block">Read the data of the given block number</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getDelK--">getDelK</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.controlplane.Fog</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getFog--">getFog</a></span>()</code>
<div class="block">Getters and setters</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getLargestBlockId-java.lang.String-">getLargestBlockId</a></span>(java.lang.String&nbsp;streamId)</code>
<div class="block">Retrieves the largest block in the stream.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.util.List&lt;com.dreamlab.edgefs.thrift.MetadataResponse&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getManyMetadataByBlockidList-java.util.List-java.lang.String-int-com.dreamlab.edgefs.thrift.EdgeInfoData-java.util.List-">getManyMetadataByBlockidList</a></span>(java.util.List&lt;java.lang.Long&gt;&nbsp;mbidList,
                            java.lang.String&nbsp;fogip,
                            int&nbsp;fogport,
                            com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfoData,
                            java.util.List&lt;java.lang.String&gt;&nbsp;keys)</code>
<div class="block">Returns the metadata (.meta file) of all the blocks passed in the list</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.ReadReplica</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getMeta-long-boolean-boolean-">getMeta</a></span>(long&nbsp;microbatchId,
       boolean&nbsp;checkNeighbors,
       boolean&nbsp;checkBuddies)</code>
<div class="block">Reads the metadata file (the ".meta" file for a block)</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.MetadataResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getMetadataByBlockid-long-java.lang.String-int-com.dreamlab.edgefs.thrift.EdgeInfoData-java.util.List-">getMetadataByBlockid</a></span>(long&nbsp;mbid,
                    java.lang.String&nbsp;fogip,
                    int&nbsp;fogport,
                    com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfo,
                    java.util.List&lt;java.lang.String&gt;&nbsp;keys)</code>
<div class="block">Retrieves the metadata of the block which is specified (Reads the .meta file
 which was written at the time of put/update</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.NeighborCount</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getNeighborCountPerPool--">getNeighborCountPerPool</a></span>()</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.NodeInfoData</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getPoolMember-short-">getPoolMember</a></span>(short&nbsp;buddyPoolId)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.StreamMetadataInfo</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getStreamMetadata-java.lang.String-boolean-boolean-boolean-">getStreamMetadata</a></span>(java.lang.String&nbsp;streamId,
                 boolean&nbsp;checkNeighbors,
                 boolean&nbsp;checkBuddies,
                 boolean&nbsp;forceLatest)</code>
<div class="block">Retrieve the stream metadata from the Fog</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.StreamMetadata</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getStreamMetadataFromOwner-java.lang.String-">getStreamMetadataFromOwner</a></span>(java.lang.String&nbsp;streamId)</code>
<div class="block">Returns the metadata for the stream</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;com.dreamlab.edgefs.thrift.WritableFogData&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getWriteLocations-byte-com.dreamlab.edgefs.thrift.Metadata-java.util.List-boolean-">getWriteLocations</a></span>(byte&nbsp;dataLength,
                 com.dreamlab.edgefs.thrift.Metadata&nbsp;metadata,
                 java.util.List&lt;java.lang.Short&gt;&nbsp;blackListedFogs,
                 boolean&nbsp;isEdge)</code>
<div class="block">Retrieves a set of writable locations to which blocks will be evantually
 written.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>static com.dreamlab.edgefs.model.EdgeInfo</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#identifyLocalReplica-int-com.dreamlab.edgefs.thrift.WritePreference-long-">identifyLocalReplica</a></span>(int&nbsp;dataLength,
                    com.dreamlab.edgefs.thrift.WritePreference&nbsp;preference,
                    long&nbsp;mbId)</code>
<div class="block">Identifies a local Edge in the current Fog to write the block</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;com.dreamlab.edgefs.thrift.WritableFogData&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#identifyReplicas-long-long-boolean-double-int-int-">identifyReplicas</a></span>(long&nbsp;mbId,
                long&nbsp;dataLength,
                boolean&nbsp;isEdge,
                double&nbsp;expectedReliability,
                int&nbsp;minReplica,
                int&nbsp;maxReplica)</code>
<div class="block">Returns a list of Fog locations to write the data.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.BlockMetadataUpdateResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#incrementBlockCount-com.dreamlab.edgefs.thrift.Metadata-boolean-">incrementBlockCount</a></span>(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                   boolean&nbsp;setLease)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.TwoPhaseCommitResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#initiate2PhaseCommit-com.dreamlab.edgefs.thrift.TwoPhaseCommitRequest-">initiate2PhaseCommit</a></span>(com.dreamlab.edgefs.thrift.TwoPhaseCommitRequest&nbsp;commitRequest)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.TwoPhasePreCommitResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#initiate2PhasePreCommit-com.dreamlab.edgefs.thrift.TwoPhasePreCommitRequest-">initiate2PhasePreCommit</a></span>(com.dreamlab.edgefs.thrift.TwoPhasePreCommitRequest&nbsp;preCommitRequest)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#insertHomeFog-long-java.lang.String-com.dreamlab.edgefs.thrift.NodeInfoData-">insertHomeFog</a></span>(long&nbsp;microbatchId,
             java.lang.String&nbsp;streamId,
             com.dreamlab.edgefs.thrift.NodeInfoData&nbsp;homeFog)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#insertMetadata-com.dreamlab.edgefs.thrift.Metadata-com.dreamlab.edgefs.thrift.EdgeInfoData-java.util.Map-">insertMetadata</a></span>(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
              com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfoData,
              java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;metaKeyValueMap)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">This method is deprecated</span></div>
</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#intentToWrite-byte-">intentToWrite</a></span>(byte&nbsp;clientId)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#isLock--">isLock</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;com.dreamlab.edgefs.thrift.NeighborInfoData&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#joinCluster-com.dreamlab.edgefs.thrift.FogInfoData-short-short-">joinCluster</a></span>(com.dreamlab.edgefs.thrift.FogInfoData&nbsp;NodeX,
           short&nbsp;pmin,
           short&nbsp;pmax)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.TwoPhaseCommitResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#joinPool-com.dreamlab.edgefs.thrift.FogInfoData-">joinPool</a></span>(com.dreamlab.edgefs.thrift.FogInfoData&nbsp;NodeX)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#listLocalPartitionMbId-boolean-">listLocalPartitionMbId</a></span>(boolean&nbsp;flag)</code>
<div class="block">List all the blocks written in the current Fog</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#neighborHeartBeat-com.dreamlab.edgefs.thrift.NeighborPayload-">neighborHeartBeat</a></span>(com.dreamlab.edgefs.thrift.NeighborPayload&nbsp;payload)</code>
<div class="block">Called by the neighbor Fogs to update their bloomfilter indexes</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#nodeJoiningComplete--">nodeJoiningComplete</a></span>()</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.OpenStreamResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#openLease-java.lang.String-java.lang.String-int-boolean-">openLease</a></span>(java.lang.String&nbsp;streamId,
         java.lang.String&nbsp;clientId,
         int&nbsp;expectedLease,
         boolean&nbsp;setLease)</code>
<div class="block">This method is invoked by clients to acquire a stream level lock before
 performing any put/update operation.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.WriteResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#putData-com.dreamlab.edgefs.thrift.Metadata-short-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-java.util.Map-java.lang.String-">putData</a></span>(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
       short&nbsp;version,
       java.nio.ByteBuffer&nbsp;data,
       com.dreamlab.edgefs.thrift.WritePreference&nbsp;preference,
       java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;metaKeyValueMap,
       java.lang.String&nbsp;clientId)</code>
<div class="block">Put the data block of the given block number</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.WriteResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#putDataQuorum-com.dreamlab.edgefs.thrift.Metadata-short-java.nio.ByteBuffer-java.util.Map-java.lang.String-">putDataQuorum</a></span>(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
             short&nbsp;version,
             java.nio.ByteBuffer&nbsp;data,
             java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;metaKeyValueMap,
             java.lang.String&nbsp;clientId)</code>
<div class="block">Choose locations to write the block and write data in all those locations
 concurrently.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.WriteResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#putNext-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-java.util.Map-">putNext</a></span>(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
       java.nio.ByteBuffer&nbsp;data,
       com.dreamlab.edgefs.thrift.WritePreference&nbsp;preference,
       java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;metaKeyValueMap)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">This method is deprecated use
             <a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#putData-com.dreamlab.edgefs.thrift.Metadata-short-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-java.util.Map-java.lang.String-"><code>putData(Metadata, short, ByteBuffer, WritePreference, Map, String)</code></a></span></div>
</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.ReadReplica</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#read-long-boolean-java.lang.String-long-">read</a></span>(long&nbsp;microbatchId,
    boolean&nbsp;fetchMetadata,
    java.lang.String&nbsp;compFormat,
    long&nbsp;uncompSize)</code>&nbsp;</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#registerStream-java.lang.String-com.dreamlab.edgefs.thrift.StreamMetadata-long-">registerStream</a></span>(java.lang.String&nbsp;streamId,
              com.dreamlab.edgefs.thrift.StreamMetadata&nbsp;metadata,
              long&nbsp;startSequenceNum)</code>
<div class="block">Registers a stream with the Fog.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.StreamLeaseRenewalResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#renewLease-java.lang.String-java.lang.String-java.lang.String-int-boolean-">renewLease</a></span>(java.lang.String&nbsp;streamId,
          java.lang.String&nbsp;clientId,
          java.lang.String&nbsp;sessionSecret,
          int&nbsp;expectedLease,
          boolean&nbsp;setLease)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;com.dreamlab.edgefs.thrift.NeighborInfoData&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#requestAllNeighbors--">requestAllNeighbors</a></span>()</code>
<div class="block">Returns the list of all neighbors of the current Fog</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#requestCompFormatSize-long-">requestCompFormatSize</a></span>(long&nbsp;mbId)</code>
<div class="block">The compression format that is used for storing the block.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Short,java.util.Set&lt;java.lang.Long&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#requestEdgeMicrobatchMap--">requestEdgeMicrobatchMap</a></span>()</code>
<div class="block">Lists all the blocks present in the Fog partition edge-wise.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>java.util.List&lt;com.dreamlab.edgefs.thrift.NeighborInfoData&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#requestNeighbors-java.util.Map-">requestNeighbors</a></span>(java.util.Map&lt;java.lang.Short,java.lang.Short&gt;&nbsp;requestMap)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#serializeState--">serializeState</a></span>()</code>
<div class="block">Currently unavailable, intended for future use</div>
</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#setDelK-int-">setDelK</a></span>(int&nbsp;delK)</code>
<div class="block">The tolerable extra/deficit number of fogs that a buddy group can have Eg: If
 the buddy group size is 6 and delk is 1, acceptable group size is 4 or 6.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#setFog-com.dreamlab.edgefs.controlplane.Fog-">setFog</a></span>(com.dreamlab.edgefs.controlplane.Fog&nbsp;fog)</code>&nbsp;</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#setLock-boolean-">setLock</a></span>(boolean&nbsp;lock)</code>&nbsp;</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#subscribe-com.dreamlab.edgefs.thrift.NodeInfoData-">subscribe</a></span>(com.dreamlab.edgefs.thrift.NodeInfoData&nbsp;nodeInfoData)</code>
<div class="block">Call which adds the incoming Fog to the subscriber's list.</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#terminate-java.lang.String-">terminate</a></span>(java.lang.String&nbsp;streamId)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.WriteResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#updateBlock-long-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-">updateBlock</a></span>(long&nbsp;mbId,
           com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
           java.nio.ByteBuffer&nbsp;mbData)</code>
<div class="block">Updates the content of the block</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.WriteResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#updateBlockAndMeta-long-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-java.lang.String-boolean-boolean-">updateBlockAndMeta</a></span>(long&nbsp;mbId,
                  com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                  java.nio.ByteBuffer&nbsp;mbData,
                  java.lang.String&nbsp;clientId,
                  boolean&nbsp;updateMetaFlag,
                  boolean&nbsp;updateDataFlag)</code>
<div class="block">Updates the block data and its metadata</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.WriteResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#updateBlockQuorum-long-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-java.lang.String-boolean-boolean-com.dreamlab.edgefs.thrift.EdgeInfoData-">updateBlockQuorum</a></span>(long&nbsp;mbId,
                 com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                 java.nio.ByteBuffer&nbsp;mbData,
                 java.lang.String&nbsp;clientId,
                 boolean&nbsp;updateMetaFlag,
                 boolean&nbsp;updateDataFlag,
                 com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;selfInfo)</code>
<div class="block">Updates the block data and its metadata</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#updateDymanicBloomFilter-java.lang.String-java.lang.String-byte:A-">updateDymanicBloomFilter</a></span>(java.lang.String&nbsp;key,
                        java.lang.String&nbsp;value,
                        byte[]&nbsp;fogDynamicFilter)</code>
<div class="block">We maintain a separate bloomfilter per Fog for dynamic metadata (key-value)
 pairs Eg: location:iisc</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#updateFogAndEdgeBloomFilters-java.lang.String-java.lang.String-byte:A-byte:A-">updateFogAndEdgeBloomFilters</a></span>(java.lang.String&nbsp;key,
                            java.lang.String&nbsp;value,
                            byte[]&nbsp;fogBFilter,
                            byte[]&nbsp;edgeBFilter)</code>
<div class="block">Update the indexes for Fog and Edge bloomfilters Eg entry for key and value
 => mbId:107</div>
</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#updateMicrobatchLocalInfo-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.model.EdgeInfo-java.util.Map-">updateMicrobatchLocalInfo</a></span>(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                         java.nio.ByteBuffer&nbsp;data,
                         com.dreamlab.edgefs.model.EdgeInfo&nbsp;edgeInfo,
                         java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;metaKeyValueMap)</code>
<div class="block">Updates the local indexes and local bloomfilter for the blocks with the block
 related metadata.</div>
</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.StreamMetadataUpdateResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#updateStreamMetadata-com.dreamlab.edgefs.thrift.StreamMetadata-">updateStreamMetadata</a></span>(com.dreamlab.edgefs.thrift.StreamMetadata&nbsp;metadata)</code>
<div class="block">Stream related properties of an existing stream are updated with the newly
 passed stream metadata</div>
</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>com.dreamlab.edgefs.thrift.WriteResponse</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#write-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-">write</a></span>(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
     java.nio.ByteBuffer&nbsp;data,
     com.dreamlab.edgefs.thrift.WritePreference&nbsp;preference)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">This method is deprecated use
             <a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#putData-com.dreamlab.edgefs.thrift.Metadata-short-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-java.util.Map-java.lang.String-"><code>putData(Metadata, short, ByteBuffer, WritePreference, Map, String)</code></a></span></div>
</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;com.dreamlab.edgefs.thrift.NodeInfoData&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#writeNext-java.lang.String-com.dreamlab.edgefs.thrift.Metadata-byte-">writeNext</a></span>(java.lang.String&nbsp;sessionId,
         com.dreamlab.edgefs.thrift.Metadata&nbsp;mbData,
         byte&nbsp;dataLength)</code>
<div class="block">Currently unavailable, intended for future use.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FogServiceHandler-com.dreamlab.edgefs.controlplane.Fog-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FogServiceHandler</h4>
<pre>public&nbsp;FogServiceHandler(com.dreamlab.edgefs.controlplane.Fog&nbsp;fog)</pre>
</li>
</ul>
<a name="FogServiceHandler--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FogServiceHandler</h4>
<pre>public&nbsp;FogServiceHandler()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getFog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFog</h4>
<pre>public&nbsp;com.dreamlab.edgefs.controlplane.Fog&nbsp;getFog()</pre>
<div class="block">Getters and setters</div>
</li>
</ul>
<a name="setFog-com.dreamlab.edgefs.controlplane.Fog-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFog</h4>
<pre>public&nbsp;void&nbsp;setFog(com.dreamlab.edgefs.controlplane.Fog&nbsp;fog)</pre>
</li>
</ul>
<a name="isLock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLock</h4>
<pre>public&nbsp;boolean&nbsp;isLock()</pre>
</li>
</ul>
<a name="setLock-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLock</h4>
<pre>public&nbsp;void&nbsp;setLock(boolean&nbsp;lock)</pre>
</li>
</ul>
<a name="getDelK--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDelK</h4>
<pre>public&nbsp;int&nbsp;getDelK()</pre>
</li>
</ul>
<a name="setDelK-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDelK</h4>
<pre>public&nbsp;void&nbsp;setDelK(int&nbsp;delK)</pre>
<div class="block">The tolerable extra/deficit number of fogs that a buddy group can have Eg: If
 the buddy group size is 6 and delk is 1, acceptable group size is 4 or 6.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>delK</code> - </dd>
</dl>
</li>
</ul>
<a name="bootstrapFog-com.dreamlab.edgefs.thrift.FogInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bootstrapFog</h4>
<pre>public&nbsp;java.lang.String&nbsp;bootstrapFog(com.dreamlab.edgefs.thrift.FogInfoData&nbsp;NodeX)
                              throws org.apache.thrift.TException</pre>
<div class="block">For future use</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>bootstrapFog</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>NodeX</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="joinCluster-com.dreamlab.edgefs.thrift.FogInfoData-short-short-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinCluster</h4>
<pre>public&nbsp;java.util.List&lt;com.dreamlab.edgefs.thrift.NeighborInfoData&gt;&nbsp;joinCluster(com.dreamlab.edgefs.thrift.FogInfoData&nbsp;NodeX,
                                                                               short&nbsp;pmin,
                                                                               short&nbsp;pmax)
                                                                        throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use. The joining node requests the
 Fog Referrer to send it candidates of buddy pool between pmin and pmax</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>joinCluster</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>NodeX</code> - the joining node</dd>
<dd><code>pmin</code> - the lower bound of buddy pool candidates</dd>
<dd><code>pmax</code> - the upper bound of buddy pool candidates</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List<Neighbor> back to the joining client fog</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getCandidatePool-double-short-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCandidatePool</h4>
<pre>public&nbsp;java.util.List&lt;com.dreamlab.edgefs.thrift.NeighborInfoData&gt;&nbsp;getCandidatePool(double&nbsp;reliability,
                                                                                    short&nbsp;pmin)
                                                                             throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.
 
 This call is made by a referrer fog to its buddy, because the candidate pools
 size were less than pmin So the called on buddy will send the candidates in
 its buddy pool back to the referrer's fog</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getCandidatePool</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reliability</code> - Reliability of the joining fog</dd>
<dd><code>pmin</code> - the minimum number of pools needed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List<Neighbor> back to the referrer fog</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="joinPool-com.dreamlab.edgefs.thrift.FogInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinPool</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.TwoPhaseCommitResponse&nbsp;joinPool(com.dreamlab.edgefs.thrift.FogInfoData&nbsp;NodeX)</pre>
<div class="block">Currently unavailable, intended for future use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>joinPool</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>NodeX</code> - The joining Node</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>YES OR NO, NO means failed to join, YES means NODEX joined the pool</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code> - missing feature : Unable to communicate to buddy, timeout
                    occurs, move on and make a decision missing feature :
                    Maintain state until the decision is communicated</dd>
</dl>
</li>
</ul>
<a name="initiate2PhasePreCommit-com.dreamlab.edgefs.thrift.TwoPhasePreCommitRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initiate2PhasePreCommit</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.TwoPhasePreCommitResponse&nbsp;initiate2PhasePreCommit(com.dreamlab.edgefs.thrift.TwoPhasePreCommitRequest&nbsp;preCommitRequest)</pre>
<div class="block">Currently unavailable, intended for future use.
 
 Pre-Commit phase in 2PC, checks if node size is breached before admitting any
 fog node</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>initiate2PhasePreCommit</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preCommitRequest</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>TwoPhasePreCommitResponse</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="initiate2PhaseCommit-com.dreamlab.edgefs.thrift.TwoPhaseCommitRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initiate2PhaseCommit</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.TwoPhaseCommitResponse&nbsp;initiate2PhaseCommit(com.dreamlab.edgefs.thrift.TwoPhaseCommitRequest&nbsp;commitRequest)</pre>
<div class="block">Currently unavailable, intended for future use.
 
 2 Phase commit : Phase 2,</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>initiate2PhaseCommit</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commitRequest</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>STATUS_YES if already in PRE_COMMIT for the joining NODE, else return
         STATUS_NO</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getPoolMember-short-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPoolMember</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.NodeInfoData&nbsp;getPoolMember(short&nbsp;buddyPoolId)
                                                      throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getPoolMember</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buddyPoolId</code> - ID of the buddy pool</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getBuddyPoolMembers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuddyPoolMembers</h4>
<pre>public&nbsp;java.util.List&lt;com.dreamlab.edgefs.thrift.FogInfoData&gt;&nbsp;getBuddyPoolMembers()
                                                                           throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.
 
 Returns all the members in a buddy pool.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getBuddyPoolMembers</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getNeighborCountPerPool--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNeighborCountPerPool</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.NeighborCount&nbsp;getNeighborCountPerPool()
                                                                 throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.
 
 Returns the number neighbor per buddy pool.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getNeighborCountPerPool</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="requestNeighbors-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestNeighbors</h4>
<pre>public&nbsp;java.util.List&lt;com.dreamlab.edgefs.thrift.NeighborInfoData&gt;&nbsp;requestNeighbors(java.util.Map&lt;java.lang.Short,java.lang.Short&gt;&nbsp;requestMap)
                                                                             throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>requestNeighbors</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="nodeJoiningComplete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeJoiningComplete</h4>
<pre>public&nbsp;void&nbsp;nodeJoiningComplete()
                         throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>nodeJoiningComplete</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="identifyReplicas-long-long-boolean-double-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>identifyReplicas</h4>
<pre>public&nbsp;java.util.List&lt;com.dreamlab.edgefs.thrift.WritableFogData&gt;&nbsp;identifyReplicas(long&nbsp;mbId,
                                                                                   long&nbsp;dataLength,
                                                                                   boolean&nbsp;isEdge,
                                                                                   double&nbsp;expectedReliability,
                                                                                   int&nbsp;minReplica,
                                                                                   int&nbsp;maxReplica)</pre>
<div class="block">Returns a list of Fog locations to write the data. It uses the size of data
 to perform Fog selection, uses a best-effort algorithm to meet the
 reliability expected by the block</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbId</code> - microbatch id, needed to ensure that a single edge
                            is chosen only once for a block.</dd>
<dd><code>dataLength</code> - the length of the microbatch in bytes, used to
                            choose correct Fogs and Edges. (HH, HL algo)</dd>
<dd><code>isEdge</code> - if the call came from an edge or a generic client
                            (without idea of it being an edge)</dd>
<dd><code>expectedReliability</code> - the reliability expected for the given microbatch</dd>
<dd><code>minReplica</code> - minimum number of replicas for the given
                            microbatch id (lower bound)</dd>
<dd><code>maxReplica</code> - maximum number of replicas for the given
                            microbatch id (upper bound)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of write locations, which contains information of the location
         of Fogs (and Edges) to write the data</dd>
</dl>
</li>
</ul>
<a name="subscribe-com.dreamlab.edgefs.thrift.NodeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre>public&nbsp;boolean&nbsp;subscribe(com.dreamlab.edgefs.thrift.NodeInfoData&nbsp;nodeInfoData)
                  throws org.apache.thrift.TException</pre>
<div class="block">Call which adds the incoming Fog to the subscriber's list. All the
 subscribers are sent frequent updates of change in bloomfilter indexes
 periodically.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>subscribe</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nodeInfoData</code> - : The Fog which wants to subscribe and gets updates</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true after the subscription is successful</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="edgeHeartBeats-com.dreamlab.edgefs.thrift.EdgePayload-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>edgeHeartBeats</h4>
<pre>public&nbsp;boolean&nbsp;edgeHeartBeats(com.dreamlab.edgefs.thrift.EdgePayload&nbsp;edgePayload)
                       throws org.apache.thrift.TException</pre>
<div class="block">Periodically this is sent by Edge devices, this contains edge payload such as
 reliability, storage etc., This message is also used to detect whether the
 edge device is alive or dead.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>edgeHeartBeats</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>edgePayload</code> - Contains edge related statistics such as storage,
                    reliability etc.,</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="edgeJoin-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>edgeJoin</h4>
<pre>public&nbsp;byte&nbsp;edgeJoin(com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfoData)
              throws org.apache.thrift.TException</pre>
<div class="block">An Edge device calls this at the time of registering itself to a Fog</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>edgeJoin</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>edgeInfoData</code> - The edge related properties such as IP, Port etc.,</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Constants.SUCCESS if joining of edge is successful. else
         Constants.FAILURE</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="terminate-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>public&nbsp;byte&nbsp;terminate(java.lang.String&nbsp;streamId)
               throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.
 
 Unregister the stream ID, this is the call from the edge client which is
 producing the stream</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>terminate</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>streamId</code> - The streamID that needs to be unregistered.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="registerStream-java.lang.String-com.dreamlab.edgefs.thrift.StreamMetadata-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerStream</h4>
<pre>public&nbsp;byte&nbsp;registerStream(java.lang.String&nbsp;streamId,
                           com.dreamlab.edgefs.thrift.StreamMetadata&nbsp;metadata,
                           long&nbsp;startSequenceNum)
                    throws org.apache.thrift.TException</pre>
<div class="block">Registers a stream with the Fog.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>registerStream</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>streamId</code> - The name of the stream being registered</dd>
<dd><code>metadata</code> - The stream related metadata, it contains reliability,
                         min & max replication factor, time etc.,</dd>
<dd><code>startSequenceNum</code> - The block number that this stream starts from.
                         (Currently not being used)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a status Constants.SUCCESS or Constants.FAILURE based on whether the
         registration of stream is successful or not.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="openLease-java.lang.String-java.lang.String-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openLease</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.OpenStreamResponse&nbsp;openLease(java.lang.String&nbsp;streamId,
                                                               java.lang.String&nbsp;clientId,
                                                               int&nbsp;expectedLease,
                                                               boolean&nbsp;setLease)
                                                        throws org.apache.thrift.TException</pre>
<div class="block">This method is invoked by clients to acquire a stream level lock before
 performing any put/update operation. The lock can be granted only by a Fog on
 which the stream was originally registered.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>openLease</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>streamId</code> - The name of the stream on which the lease needs to be
                      acquired</dd>
<dd><code>clientId</code> - The name of the client trying to issue the lock request,
                      so that it can be used to remember to which client the
                      lock has been issued to.</dd>
<dd><code>expectedLease</code> - The time for which lease is needed (this is relevant
                      only if setLease is True)</dd>
<dd><code>setLease</code> - A boolean True or False to indicate whether acquiring
                      lease is necessary for writing/updating a block or not</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>OpenStreamResponse</code> Indicates whether lease acquisition is
         successful or not, the time alotted for the lease (ie lease duration)
         etc., If lease is not granted returns FAILURE.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="closeLease-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeLease</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.OpenStreamResponse&nbsp;closeLease(java.lang.String&nbsp;streamId,
                                                                java.lang.String&nbsp;clientId)
                                                         throws org.apache.thrift.TException</pre>
<div class="block">A method when invoked will relinquish the lock, which was previously acquired
 during the openLease</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>closeLease</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>streamId</code> - The streamID of which the lock will be released</dd>
<dd><code>clientId</code> - The client which is holding the lock</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The status whether the lock was succesfully released or not.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="intentToWrite-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>intentToWrite</h4>
<pre>public&nbsp;java.lang.String&nbsp;intentToWrite(byte&nbsp;clientId)
                               throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>intentToWrite</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="writeNext-java.lang.String-com.dreamlab.edgefs.thrift.Metadata-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;java.util.List&lt;com.dreamlab.edgefs.thrift.NodeInfoData&gt;&nbsp;writeNext(java.lang.String&nbsp;sessionId,
                                                                         com.dreamlab.edgefs.thrift.Metadata&nbsp;mbData,
                                                                         byte&nbsp;dataLength)
                                                                  throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>writeNext</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="find-long-boolean-boolean-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>find</h4>
<pre>public&nbsp;java.util.List&lt;com.dreamlab.edgefs.thrift.FindReplica&gt;&nbsp;find(long&nbsp;microbatchId,
                                                                   boolean&nbsp;checkNeighbors,
                                                                   boolean&nbsp;checkBuddies,
                                                                   com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;selfInfo)
                                                            throws org.apache.thrift.TException</pre>
<div class="block">This api is used to find all the locations where the block is present.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>find</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>microbatchId</code> - The blockID for which locations are being searched</dd>
<dd><code>checkNeighbors</code> - A boolean parameter, If True, checks for the block in
                       neighbors</dd>
<dd><code>checkBuddies</code> - A boolean parameter, If True, checks for the block in
                       buddies</dd>
<dd><code>selfInfo</code> - An EdgeInfo object, to check if block is present in the
                       local partition, also it is used for logging purposes,
                       using this it can be found out which edgeClient
                       initiated the request.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List<FindReplica> A list of locations containing Fog Ip/ports along
         with Edge IP/Port <code>FindReplica</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="read-long-boolean-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.ReadReplica&nbsp;read(long&nbsp;microbatchId,
                                                   boolean&nbsp;fetchMetadata,
                                                   java.lang.String&nbsp;compFormat,
                                                   long&nbsp;uncompSize)
                                            throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>read</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getMeta-long-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMeta</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.ReadReplica&nbsp;getMeta(long&nbsp;microbatchId,
                                                      boolean&nbsp;checkNeighbors,
                                                      boolean&nbsp;checkBuddies)
                                               throws org.apache.thrift.TException</pre>
<div class="block">Reads the metadata file (the ".meta" file for a block)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getMeta</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>microbatchId</code> - The block for which metadata needed to be read</dd>
<dd><code>checkNeighbors</code> - If True, looks for reading metadata from neighbors</dd>
<dd><code>checkBuddies</code> - If True, looks for reading metadata from buddies</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>ReadReplica</code> which contains the metadata of a block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="findUsingQuery-java.lang.String-java.lang.String-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findUsingQuery</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.QueryReplica&nbsp;findUsingQuery(java.lang.String&nbsp;metadataKey,
                                                              java.lang.String&nbsp;metadataValue,
                                                              boolean&nbsp;checkNeighbors,
                                                              boolean&nbsp;checkBuddies)
                                                       throws org.apache.thrift.TException</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">This method is deprecated use
             <a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findBlocksAndLocationsWithQuery-boolean-boolean-java.util.List-com.dreamlab.edgefs.thrift.ReplicaCount-com.dreamlab.edgefs.thrift.EdgeInfoData-"><code>findBlocksAndLocationsWithQuery(boolean, boolean, List, ReplicaCount, EdgeInfoData)</code></a></span></div>
<div class="block">Returns all the blocks which match the given query
 (metadatakey+metadataValue)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>findUsingQuery</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metadataKey</code> - the string key</dd>
<dd><code>metadataValue</code> - the string value</dd>
<dd><code>checkNeighbors</code> - if True checks neighbors' bloomfilter for metadataKey
                       and metadataValue</dd>
<dd><code>checkBuddies</code> - if True checks buddies' bloomfilter for metadataKey and
                       metadataValue</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="findNext-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findNext</h4>
<pre>public&nbsp;java.nio.ByteBuffer&nbsp;findNext(java.lang.String&nbsp;microbatchId)
                             throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>findNext</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="insertMetadata-com.dreamlab.edgefs.thrift.Metadata-com.dreamlab.edgefs.thrift.EdgeInfoData-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertMetadata</h4>
<pre>public&nbsp;byte&nbsp;insertMetadata(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                           com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfoData,
                           java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;metaKeyValueMap)
                    throws org.apache.thrift.TException</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">This method is deprecated</span></div>
<div class="block">Inserts the block's metadata into the local index structures and folds it
 into bloomfilter so that they can be exchanged with neighbors and buddies.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>insertMetadata</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getWriteLocations-byte-com.dreamlab.edgefs.thrift.Metadata-java.util.List-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteLocations</h4>
<pre>public&nbsp;java.util.List&lt;com.dreamlab.edgefs.thrift.WritableFogData&gt;&nbsp;getWriteLocations(byte&nbsp;dataLength,
                                                                                    com.dreamlab.edgefs.thrift.Metadata&nbsp;metadata,
                                                                                    java.util.List&lt;java.lang.Short&gt;&nbsp;blackListedFogs,
                                                                                    boolean&nbsp;isEdge)
                                                                             throws org.apache.thrift.TException</pre>
<div class="block">Retrieves a set of writable locations to which blocks will be evantually
 written. A novel differential replication algorithm is ran to ensure edges
 are sampled based on the available storage and reliability. This method will
 ensure reliability of the block is ensured (reliability is given by the
 stream to which the block is being written)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getWriteLocations</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataLength</code> - Encoded datalength</dd>
<dd><code>metadata</code> - The metadata of the block that will be written</dd>
<dd><code>blackListedFogs</code> - Fogs which cannot be selected as candidates for
                        writing (currently not used)</dd>
<dd><code>isEdge</code> - A boolean, tells whether the requesting client belongs
                        to local partition or not (currently not used)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of Write locations each item of the type <code>WritableFogData</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getStreamMetadata-java.lang.String-boolean-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStreamMetadata</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.StreamMetadataInfo&nbsp;getStreamMetadata(java.lang.String&nbsp;streamId,
                                                                       boolean&nbsp;checkNeighbors,
                                                                       boolean&nbsp;checkBuddies,
                                                                       boolean&nbsp;forceLatest)
                                                                throws org.apache.thrift.TException</pre>
<div class="block">Retrieve the stream metadata from the Fog</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getStreamMetadata</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>streamId</code> - The name of the stream whose metadata is being
                       retrieved</dd>
<dd><code>checkNeighbors</code> - If True, checks the neighbors for retrieving metadata</dd>
<dd><code>checkBuddies</code> - If True, checks the buddies for retrieving metadata</dd>
<dd><code>forceLatest</code> - If True, refreshes the latest version of stream
                       metadata from the Fog where the stream was originally
                       registered.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the stream metadata <code>StreamMetadataInfo</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getStreamMetadataFromOwner-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStreamMetadataFromOwner</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.StreamMetadata&nbsp;getStreamMetadataFromOwner(java.lang.String&nbsp;streamId)
                                                                     throws org.apache.thrift.TException</pre>
<div class="block">Returns the metadata for the stream</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getStreamMetadataFromOwner</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>streamId</code> - The name of the stream or streamID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>StreamMetadata <code>StreamMetadata</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="write-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.WriteResponse&nbsp;write(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                                                      java.nio.ByteBuffer&nbsp;data,
                                                      com.dreamlab.edgefs.thrift.WritePreference&nbsp;preference)
                                               throws org.apache.thrift.TException</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">This method is deprecated use
             <a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#putData-com.dreamlab.edgefs.thrift.Metadata-short-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-java.util.Map-java.lang.String-"><code>putData(Metadata, short, ByteBuffer, WritePreference, Map, String)</code></a></span></div>
<div class="block">Called by a client by passing data, metadata and writepreference. On
 invocation, the Fog will search for an appropriate edge locally based on the
 write preference.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>write</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbMetadata</code> - The metadata associated with the data</dd>
<dd><code>data</code> - The data to be written</dd>
<dd><code>preference</code> - One of the 8 values from HHH, HHL etc.,</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="updateMicrobatchLocalInfo-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.model.EdgeInfo-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMicrobatchLocalInfo</h4>
<pre>public static&nbsp;void&nbsp;updateMicrobatchLocalInfo(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                                             java.nio.ByteBuffer&nbsp;data,
                                             com.dreamlab.edgefs.model.EdgeInfo&nbsp;edgeInfo,
                                             java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;metaKeyValueMap)</pre>
<div class="block">Updates the local indexes and local bloomfilter for the blocks with the block
 related metadata.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbMetadata</code> - The assoicated metadata of the block, can be thought
                        of as Static metadata it usually is not modified
                        (written at the time of block's creation eg: streamID
                        )</dd>
<dd><code>data</code> - The data of the block, it is used to compute the MD5
                        checksum of the block. Useful to know whether a block
                        has been modified from the time has been written</dd>
<dd><code>edgeInfo</code> - The edge where it will be written</dd>
<dd><code>metaKeyValueMap</code> - The dynamic metadata key-value properties associated
                        with the block.</dd>
</dl>
</li>
</ul>
<a name="updateFogAndEdgeBloomFilters-java.lang.String-java.lang.String-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFogAndEdgeBloomFilters</h4>
<pre>public static&nbsp;void&nbsp;updateFogAndEdgeBloomFilters(java.lang.String&nbsp;key,
                                                java.lang.String&nbsp;value,
                                                byte[]&nbsp;fogBFilter,
                                                byte[]&nbsp;edgeBFilter)</pre>
<div class="block">Update the indexes for Fog and Edge bloomfilters Eg entry for key and value
 => mbId:107</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - It describes the type of metadata we are indexing. Eg:
                    mbId indicates we are indexing block metadata</dd>
<dd><code>value</code> - It describes the valid values that the key can take. Eg:
                    107 will be the number of the block being indexed</dd>
<dd><code>fogBFilter</code> - The bloomfilter (byte array) of the current Fog</dd>
<dd><code>edgeBFilter</code> - The bloomfilter (byte array) of the Edge which is hosting
                    the block</dd>
</dl>
</li>
</ul>
<a name="updateDymanicBloomFilter-java.lang.String-java.lang.String-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateDymanicBloomFilter</h4>
<pre>public static&nbsp;void&nbsp;updateDymanicBloomFilter(java.lang.String&nbsp;key,
                                            java.lang.String&nbsp;value,
                                            byte[]&nbsp;fogDynamicFilter)</pre>
<div class="block">We maintain a separate bloomfilter per Fog for dynamic metadata (key-value)
 pairs Eg: location:iisc</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The dynamic metadata key</dd>
<dd><code>value</code> - The dynamic metadata value</dd>
<dd><code>fogDynamicFilter</code> - The current Fog's bloomfilter for dynamic metadata</dd>
</dl>
</li>
</ul>
<a name="identifyLocalReplica-int-com.dreamlab.edgefs.thrift.WritePreference-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>identifyLocalReplica</h4>
<pre>public static&nbsp;com.dreamlab.edgefs.model.EdgeInfo&nbsp;identifyLocalReplica(int&nbsp;dataLength,
                                                                      com.dreamlab.edgefs.thrift.WritePreference&nbsp;preference,
                                                                      long&nbsp;mbId)</pre>
<div class="block">Identifies a local Edge in the current Fog to write the block</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataLength</code> - The size of the block</dd>
<dd><code>preference</code> - The write preference or choice which tells which Edge to
                   choose for writing. (HHH, HHL etc.,) one of the 8 choices</dd>
<dd><code>mbId</code> - The blockId, to ensure that no block is assigned the same
                   block again.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Edge that is chosen</dd>
</dl>
</li>
</ul>
<a name="edgeLeave-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>edgeLeave</h4>
<pre>public&nbsp;byte&nbsp;edgeLeave(com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfoData)
               throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>edgeLeave</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="neighborHeartBeat-com.dreamlab.edgefs.thrift.NeighborPayload-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>neighborHeartBeat</h4>
<pre>public&nbsp;void&nbsp;neighborHeartBeat(com.dreamlab.edgefs.thrift.NeighborPayload&nbsp;payload)
                       throws org.apache.thrift.TException</pre>
<div class="block">Called by the neighbor Fogs to update their bloomfilter indexes</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>neighborHeartBeat</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>payload</code> - Contains the bloomfilter indexes of the newly added blocks,
                the heartbeat time etc.,</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="buddyHeartBeat-com.dreamlab.edgefs.thrift.BuddyPayload-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buddyHeartBeat</h4>
<pre>public&nbsp;void&nbsp;buddyHeartBeat(com.dreamlab.edgefs.thrift.BuddyPayload&nbsp;payload)
                    throws org.apache.thrift.TException</pre>
<div class="block">Called by the Buddy Fogs to update their bloomfilter indexes</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>buddyHeartBeat</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>payload</code> - Contains the bloomfilter indexes of the newly added blocks,
                the heartbeat time etc.,</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="serializeState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serializeState</h4>
<pre>public&nbsp;byte&nbsp;serializeState()
                    throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>serializeState</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="updateStreamMetadata-com.dreamlab.edgefs.thrift.StreamMetadata-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateStreamMetadata</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.StreamMetadataUpdateResponse&nbsp;updateStreamMetadata(com.dreamlab.edgefs.thrift.StreamMetadata&nbsp;metadata)
                                                                             throws org.apache.thrift.TException</pre>
<div class="block">Stream related properties of an existing stream are updated with the newly
 passed stream metadata</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>updateStreamMetadata</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metadata</code> - The Metadata of the stream which needs to be updated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>StreamMetadataUpdateResponse</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="putNext-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putNext</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.WriteResponse&nbsp;putNext(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                                                        java.nio.ByteBuffer&nbsp;data,
                                                        com.dreamlab.edgefs.thrift.WritePreference&nbsp;preference,
                                                        java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;metaKeyValueMap)
                                                 throws org.apache.thrift.TException</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">This method is deprecated use
             <a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#putData-com.dreamlab.edgefs.thrift.Metadata-short-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-java.util.Map-java.lang.String-"><code>putData(Metadata, short, ByteBuffer, WritePreference, Map, String)</code></a></span></div>
<div class="block">Called by a client by passing data, metadata , writepreference and dynamic
 metadata (key-value) pairs . On invocation, the Fog will search for an
 appropriate edge locally based on the write preference.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>putNext</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbMetadata</code> - The metadata associated with the data</dd>
<dd><code>data</code> - The data to be written</dd>
<dd><code>preference</code> - One of the 8 values from HHH, HHL etc.,</dd>
<dd><code>metaKeyValueMap</code> - This is the dynamic metadata key-value pairs</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="incrementBlockCount-com.dreamlab.edgefs.thrift.Metadata-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incrementBlockCount</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.BlockMetadataUpdateResponse&nbsp;incrementBlockCount(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                                                                                  boolean&nbsp;setLease)
                                                                           throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use. NOTE: The uniqueness of block
 is being currently managed by client(at the Edge), which carefully issues new
 block-numbers that do not overlap.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>incrementBlockCount</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="renewLease-java.lang.String-java.lang.String-java.lang.String-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renewLease</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.StreamLeaseRenewalResponse&nbsp;renewLease(java.lang.String&nbsp;streamId,
                                                                        java.lang.String&nbsp;clientId,
                                                                        java.lang.String&nbsp;sessionSecret,
                                                                        int&nbsp;expectedLease,
                                                                        boolean&nbsp;setLease)
                                                                 throws org.apache.thrift.TException</pre>
<div class="block">Currently unavailable, intended for future use. For all purposes to avail
 lease grant use <a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#openLease-java.lang.String-java.lang.String-int-boolean-"><code>openLease(String, String, int, boolean)</code></a>
 
 NOTES: The original purpose is to have a lease extension whenever blocks were
 being written. In order to achieve that, renewLease would present a request
 to extend the Lease already granted during the writing of block.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>renewLease</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getLargestBlockId-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLargestBlockId</h4>
<pre>public&nbsp;long&nbsp;getLargestBlockId(java.lang.String&nbsp;streamId)
                       throws org.apache.thrift.TException</pre>
<div class="block">Retrieves the largest block in the stream.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getLargestBlockId</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>streamId</code> - The streamID in which the largest ID is to be retrieved.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the largest block number in the stream. a negative value indicates
         that either the stream is nonexistent or no blocks are written to the
         stream in question.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="listLocalPartitionMbId-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listLocalPartitionMbId</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.Long&gt;&nbsp;listLocalPartitionMbId(boolean&nbsp;flag)</pre>
<div class="block">List all the blocks written in the current Fog</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>listLocalPartitionMbId</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flag</code> - A boolean variable, when set as True will list all blocks written
             in local partition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A set of blocks written in the current Fog's partition.</dd>
</dl>
</li>
</ul>
<a name="requestAllNeighbors--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestAllNeighbors</h4>
<pre>public&nbsp;java.util.List&lt;com.dreamlab.edgefs.thrift.NeighborInfoData&gt;&nbsp;requestAllNeighbors()</pre>
<div class="block">Returns the list of all neighbors of the current Fog</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>requestAllNeighbors</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of neighbors for the current Fog.</dd>
</dl>
</li>
</ul>
<a name="requestEdgeMicrobatchMap--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestEdgeMicrobatchMap</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.Short,java.util.Set&lt;java.lang.Long&gt;&gt;&nbsp;requestEdgeMicrobatchMap()</pre>
<div class="block">Lists all the blocks present in the Fog partition edge-wise. Eg: Edge1 -
 101,102 .. Edge2: 101,107, 554 etc., Where Edge1, Edge2 are edge devices in
 current partition and the numbers are blocks hosted in the respective Edges</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>requestEdgeMicrobatchMap</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>EdgeId --> <blockId1, blockId2, .... ></dd>
</dl>
</li>
</ul>
<a name="requestCompFormatSize-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestCompFormatSize</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.Long&gt;&nbsp;requestCompFormatSize(long&nbsp;mbId)</pre>
<div class="block">The compression format that is used for storing the block. Eg: zip etc.,</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>requestCompFormatSize</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbId</code> - The block for which the compression format is needed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The compression format used for the block</dd>
</dl>
</li>
</ul>
<a name="findStreamUsingQuery-java.util.Map-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findStreamUsingQuery</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;findStreamUsingQuery(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;metaKeyValueMap,
                                                            boolean&nbsp;checkNeighbors,
                                                            boolean&nbsp;checkBuddies)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>findStreamUsingQuery</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
</dl>
</li>
</ul>
<a name="findBlockUsingQuery-java.util.Map-boolean-boolean-com.dreamlab.edgefs.thrift.MatchPreference-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findBlockUsingQuery</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.Long,java.lang.String&gt;&nbsp;findBlockUsingQuery(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;metaKeyValueMap,
                                                                          boolean&nbsp;checkNeighbors,
                                                                          boolean&nbsp;checkBuddies,
                                                                          com.dreamlab.edgefs.thrift.MatchPreference&nbsp;matchPreference)</pre>
<div class="block">Searches all blocks which match the query sent by the client. The query is
 key-value map</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>findBlockUsingQuery</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metaKeyValueMap</code> - The query which is a key-value pair eg location:cds</dd>
<dd><code>checkNeighbors</code> - A boolean, if True, searches for blocks in neighbors</dd>
<dd><code>checkBuddies</code> - A booleam, if True, searches for blocks in buddies</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A set of blocks which match the query along with their respective
         stream IDs</dd>
</dl>
</li>
</ul>
<a name="findStream-com.dreamlab.edgefs.thrift.SQueryRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findStream</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.SQueryResponse&nbsp;findStream(com.dreamlab.edgefs.thrift.SQueryRequest&nbsp;squery)
                                                     throws org.apache.thrift.TException</pre>
<div class="block">Searches for stream based on the StreamQuery</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>findStream</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>squery</code> - The streamQuery <code>SQueryRequest</code> contains the metadata
               properties used for querying</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>SQueryResponse contains the list of streamID matching the given
         search criteria</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="updateBlock-long-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateBlock</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.WriteResponse&nbsp;updateBlock(long&nbsp;mbId,
                                                            com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                                                            java.nio.ByteBuffer&nbsp;mbData)
                                                     throws org.apache.thrift.TException</pre>
<div class="block">Updates the content of the block</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>updateBlock</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbId</code> - The blockID</dd>
<dd><code>mbMetadata</code> - The metadata content of the block</dd>
<dd><code>mbData</code> - The data (in bytes) that will be updating the existing
                   content</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The <code>WriteResponse</code> is a SUCCESS or FAILURE of the operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getMetadataByBlockid-long-java.lang.String-int-com.dreamlab.edgefs.thrift.EdgeInfoData-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadataByBlockid</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.MetadataResponse&nbsp;getMetadataByBlockid(long&nbsp;mbid,
                                                                        java.lang.String&nbsp;fogip,
                                                                        int&nbsp;fogport,
                                                                        com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfo,
                                                                        java.util.List&lt;java.lang.String&gt;&nbsp;keys)
                                                                 throws org.apache.thrift.TException</pre>
<div class="block">Retrieves the metadata of the block which is specified (Reads the .meta file
 which was written at the time of put/update</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getMetadataByBlockid</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbid</code> - The microbatch for which metadata has to be fetched</dd>
<dd><code>fogip</code> - The IP of the Fog which contains the block looking for</dd>
<dd><code>fogport</code> - The Port of the Fog which contains the block looking for</dd>
<dd><code>edgeInfo</code> - The Edge device in which the block is located</dd>
<dd><code>keys</code> - Keys of the metadata properties for which the metadata values
                 need to be fetched</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The response is the Metadata value for the keys for the specified
         block if the block is found in the FOg and Edge specified else an
         appropriate ERROR message will be returned</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="findFast-java.util.List-boolean-boolean-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findFast</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.Long,java.util.List&lt;com.dreamlab.edgefs.thrift.FindReplica&gt;&gt;&nbsp;findFast(java.util.List&lt;java.lang.Long&gt;&nbsp;microbatchIdList,
                                                                                                     boolean&nbsp;checkNeighbors,
                                                                                                     boolean&nbsp;checkBuddies,
                                                                                                     com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;selfInfo)
                                                                                              throws org.apache.thrift.TException</pre>
<div class="block">Finds the first location (Fog and Edge) of the block being searched and
 returns as soon as the first location is found</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>findFast</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>microbatchIdList</code> - The list of blocks for which the block location needs
                         to be searched</dd>
<dd><code>checkNeighbors</code> - A Boolean, If True forwards the query to neighbors if
                         the location was not being discovered locally for all
                         blocks</dd>
<dd><code>checkBuddies</code> - A Boolean, If True forwards the query to buddies if
                         the location was not being discovered locally for all
                         blocks</dd>
<dd><code>selfInfo</code> - The edge client's IP,port and ID, to see if block is
                         present in the local partition (in the partition
                         where the edge client is querying)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A Map of block and its location for all the blocks whose locations
         were being requested is returned.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="findBlocksAndLocationsWithQuery-boolean-boolean-java.util.List-com.dreamlab.edgefs.thrift.ReplicaCount-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findBlocksAndLocationsWithQuery</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.FindBlockQueryResponse&nbsp;findBlocksAndLocationsWithQuery(boolean&nbsp;checkNeighbors,
                                                                                         boolean&nbsp;checkBuddies,
                                                                                         java.util.List&lt;java.util.List&lt;com.dreamlab.edgefs.thrift.FindQueryCondition&gt;&gt;&nbsp;findQueryList,
                                                                                         com.dreamlab.edgefs.thrift.ReplicaCount&nbsp;replicacount,
                                                                                         com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfo)
                                                                                  throws org.apache.thrift.TException</pre>
<div class="block">This function returns the locations and streamIDs of the metadata query
 passed List<List<FindQueryCondition>> findQueryList</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>findBlocksAndLocationsWithQuery</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>checkNeighbors</code> - A boolean, forwards the function to the neighbors for
                       the find query</dd>
<dd><code>checkBuddies</code> - A boolean, forwards the function to the buddies for the
                       find query</dd>
<dd><code>findQueryList</code> - The query metadata</dd>
<dd><code>replicacount</code> - Indicates the number of locations that can be returned
                       for the blocks that matched the query. NONE doesn't
                       return any location, ONE returns single location, ALL
                       returns all locations</dd>
<dd><code>edgeInfo</code> - The edge client's IP,port and ID, to see if block is
                       present in the local partition (in the partition where
                       the edge client is querying). also it is used for
                       logging purposes, using this it can be found out which
                       edgeClient initiated the request.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>FindBlockQueryResponse</code> contains the streamID, blockLocations
         for all the blocks which matched the query</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getManyMetadataByBlockidList-java.util.List-java.lang.String-int-com.dreamlab.edgefs.thrift.EdgeInfoData-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getManyMetadataByBlockidList</h4>
<pre>public&nbsp;java.util.List&lt;com.dreamlab.edgefs.thrift.MetadataResponse&gt;&nbsp;getManyMetadataByBlockidList(java.util.List&lt;java.lang.Long&gt;&nbsp;mbidList,
                                                                                                java.lang.String&nbsp;fogip,
                                                                                                int&nbsp;fogport,
                                                                                                com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;edgeInfoData,
                                                                                                java.util.List&lt;java.lang.String&gt;&nbsp;keys)
                                                                                         throws org.apache.thrift.TException</pre>
<div class="block">Returns the metadata (.meta file) of all the blocks passed in the list</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getManyMetadataByBlockidList</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbidList</code> - The blockID list of which metadata needs to be retrieved</dd>
<dd><code>fogip</code> - The IP of the Fog hosting the block</dd>
<dd><code>fogport</code> - The port of the Fog hosting the block</dd>
<dd><code>edgeInfoData</code> - The edge in which the blocks is present</dd>
<dd><code>keys</code> - The keys for which metadata values are supposed to be
                     returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of <code>MetadataResponse</code> for each block for the keys
         present</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="putData-com.dreamlab.edgefs.thrift.Metadata-short-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-java.util.Map-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putData</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.WriteResponse&nbsp;putData(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                                                        short&nbsp;version,
                                                        java.nio.ByteBuffer&nbsp;data,
                                                        com.dreamlab.edgefs.thrift.WritePreference&nbsp;preference,
                                                        java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;metaKeyValueMap,
                                                        java.lang.String&nbsp;clientId)
                                                 throws org.apache.thrift.TException</pre>
<div class="block">Put the data block of the given block number</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>putData</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbMetadata</code> - The static metadata associated with the block</dd>
<dd><code>version</code> - The version of the block ( it is 0 when the block is
                        put for the first time)</dd>
<dd><code>data</code> - The data of block in bytes</dd>
<dd><code>preference</code> - The write preference or choice which tells which Edge
                        to choose for writing. (HHH, HHL etc.,) one of the 8
                        choices</dd>
<dd><code>metaKeyValueMap</code> - The dynamic metadata properties or the key-value pairs</dd>
<dd><code>clientId</code> - The clientID of Edge/Fog which is calling putData,
                        useful for logging which clients invoked requets.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="putDataQuorum-com.dreamlab.edgefs.thrift.Metadata-short-java.nio.ByteBuffer-java.util.Map-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putDataQuorum</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.WriteResponse&nbsp;putDataQuorum(com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                                                              short&nbsp;version,
                                                              java.nio.ByteBuffer&nbsp;data,
                                                              java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;metaKeyValueMap,
                                                              java.lang.String&nbsp;clientId)
                                                       throws org.apache.thrift.TException</pre>
<div class="block">Choose locations to write the block and write data in all those locations
 concurrently.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>putDataQuorum</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbMetadata</code> - The static metadata associated with the block</dd>
<dd><code>version</code> - The version of the block ( it is 0 when the block is
                        put for the first time)</dd>
<dd><code>data</code> - The data of block in bytes</dd>
<dd><code>metaKeyValueMap</code> - The dynamic metadata properties or the key-value pairs</dd>
<dd><code>clientId</code> - The clientID of Edge/Fog which is calling putData,
                        useful for logging which clients invoked requets.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>WriteResponse</code> tells whether the block write is successful</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="get-long-boolean-java.lang.String-long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.ReadReplica&nbsp;get(long&nbsp;microbatchId,
                                                  boolean&nbsp;fetchMetadata,
                                                  java.lang.String&nbsp;compFormat,
                                                  long&nbsp;uncompSize,
                                                  java.lang.String&nbsp;clientId)
                                           throws org.apache.thrift.TException</pre>
<div class="block">Read the data of the given block number</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>get</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>microbatchId</code> - The block number which needs to be read</dd>
<dd><code>fetchMetadata</code> - A boolean, if True reads metadata as well, if False then
                      reads only data</dd>
<dd><code>compFormat</code> - Indicates the compression type of the block (By default
                      it reads no compression)</dd>
<dd><code>uncompSize</code> - Not relevant currently</dd>
<dd><code>clientId</code> - The clientID of Edge/Fog which is calling putData,
                      useful for logging which clients invoked requets.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>ReadReplica</code> contains the data being read.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getData-long-boolean-java.lang.String-long-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getData</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.ReadReplica&nbsp;getData(long&nbsp;microbatchId,
                                                      boolean&nbsp;fetchMetadata,
                                                      java.lang.String&nbsp;compFormat,
                                                      long&nbsp;uncompSize,
                                                      com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;selfInfo)
                                               throws org.apache.thrift.TException</pre>
<div class="block">Read the data of the given block number</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getData</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>microbatchId</code> - The block number which needs to be read</dd>
<dd><code>fetchMetadata</code> - A boolean, if True reads metadata as well, if False then
                      reads only data</dd>
<dd><code>compFormat</code> - Indicates the compression type of the block (By default
                      it reads no compression)</dd>
<dd><code>uncompSize</code> - Not relevant currently</dd>
<dd><code>selfInfo</code> - The Edge client's IP, Port etc., used for logging
                      purposes</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>ReadReplica</code> contains the data being read.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="updateBlockAndMeta-long-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-java.lang.String-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateBlockAndMeta</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.WriteResponse&nbsp;updateBlockAndMeta(long&nbsp;mbId,
                                                                   com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                                                                   java.nio.ByteBuffer&nbsp;mbData,
                                                                   java.lang.String&nbsp;clientId,
                                                                   boolean&nbsp;updateMetaFlag,
                                                                   boolean&nbsp;updateDataFlag)
                                                            throws org.apache.thrift.TException</pre>
<div class="block">Updates the block data and its metadata</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>updateBlockAndMeta</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbId</code> - The block number which needs to be updated</dd>
<dd><code>mbMetadata</code> - The metadata of the block</dd>
<dd><code>mbData</code> - The data in bytes which needs to be updated</dd>
<dd><code>clientId</code> - The ID of the Fog/Edge client which is performing the
                       update, it used for logging purpose</dd>
<dd><code>updateMetaFlag</code> - A boolean, if True metadata is updated</dd>
<dd><code>updateDataFlag</code> - A boolean, if True data is updated</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>WriteResponse</code> indicating whether update was successful.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="updateBlockQuorum-long-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-java.lang.String-boolean-boolean-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateBlockQuorum</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.WriteResponse&nbsp;updateBlockQuorum(long&nbsp;mbId,
                                                                  com.dreamlab.edgefs.thrift.Metadata&nbsp;mbMetadata,
                                                                  java.nio.ByteBuffer&nbsp;mbData,
                                                                  java.lang.String&nbsp;clientId,
                                                                  boolean&nbsp;updateMetaFlag,
                                                                  boolean&nbsp;updateDataFlag,
                                                                  com.dreamlab.edgefs.thrift.EdgeInfoData&nbsp;selfInfo)
                                                           throws org.apache.thrift.TException</pre>
<div class="block">Updates the block data and its metadata</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>updateBlockQuorum</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mbId</code> - The block number which needs to be updated</dd>
<dd><code>mbMetadata</code> - The metadata of the block</dd>
<dd><code>mbData</code> - The data in bytes which needs to be updated</dd>
<dd><code>selfInfo</code> - The ID of the Fog/Edge client which is performing the
                       update, it used for logging purpose</dd>
<dd><code>updateMetaFlag</code> - A boolean, if True metadata is updated</dd>
<dd><code>updateDataFlag</code> - A boolean, if True data is updated</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>WriteResponse</code> indicating whether update was successful.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="findStreamOwner-java.lang.String-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findStreamOwner</h4>
<pre>public&nbsp;com.dreamlab.edgefs.thrift.NodeInfoData&nbsp;findStreamOwner(java.lang.String&nbsp;streamId,
                                                               boolean&nbsp;checkNeighbors,
                                                               boolean&nbsp;checkBuddies)
                                                        throws org.apache.thrift.TException</pre>
<div class="block">Finds the Fog IP/Port of a given stream was registered</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>findStreamOwner</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>streamId</code> - The streamID for which the Fog needs to be found</dd>
<dd><code>checkNeighbors</code> - A boolean, if True forwards the search to Neighbor Fogs</dd>
<dd><code>checkBuddies</code> - A boolean, if True forwards the search to Buddy Fogs</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Fog where the stream was registered</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="insertHomeFog-long-java.lang.String-com.dreamlab.edgefs.thrift.NodeInfoData-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>insertHomeFog</h4>
<pre>public&nbsp;byte&nbsp;insertHomeFog(long&nbsp;microbatchId,
                          java.lang.String&nbsp;streamId,
                          com.dreamlab.edgefs.thrift.NodeInfoData&nbsp;homeFog)</pre>
<div class="block">Currently unavailable, intended for future use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>insertHomeFog</code>&nbsp;in interface&nbsp;<code>com.dreamlab.edgefs.thrift.FogService.Iface</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../com/dreamlab/edgefs/servicehandler/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FogServiceHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/dreamlab/edgefs/servicehandler/FogServiceHandler.html" target="_top">Frames</a></li>
<li><a href="FogServiceHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
