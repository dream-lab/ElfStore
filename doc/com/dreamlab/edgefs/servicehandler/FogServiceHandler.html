<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_201) on Sun Jun 23 14:25:27 IST 2019 -->
<title>FogServiceHandler</title>
<meta name="date" content="2019-06-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FogServiceHandler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FogServiceHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/dreamlab/edgefs/servicehandler/FogServiceHandler.html" target="_top">Frames</a></li>
<li><a href="FogServiceHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.dreamlab.edgefs.servicehandler</div>
<h2 title="Class FogServiceHandler" class="title">Class FogServiceHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.dreamlab.edgefs.servicehandler.FogServiceHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">FogServiceHandler</span>
extends java.lang.Object
implements <a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></pre>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>swamiji</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#FogServiceHandler--">FogServiceHandler</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#FogServiceHandler-com.dreamlab.edgefs.controlplane.Fog-">FogServiceHandler</a></span>(<a href="../../../../com/dreamlab/edgefs/controlplane/Fog.html" title="class in com.dreamlab.edgefs.controlplane">Fog</a>&nbsp;fog)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#bootstrapFog-com.dreamlab.edgefs.thrift.FogInfoData-">bootstrapFog</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/FogInfoData.html" title="class in com.dreamlab.edgefs.thrift">FogInfoData</a>&nbsp;NodeX)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#buddyHeartBeat-com.dreamlab.edgefs.thrift.BuddyPayload-">buddyHeartBeat</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/BuddyPayload.html" title="class in com.dreamlab.edgefs.thrift">BuddyPayload</a>&nbsp;payload)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/model/NodeInfo.html" title="class in com.dreamlab.edgefs.model">NodeInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#checkConsolidatedNeighborBloomFilter-java.lang.String-">checkConsolidatedNeighborBloomFilter</a></span>(java.lang.String&nbsp;microbatchID)</code>
<div class="block">Bloom filter searches from the consolidated neighbor buddy bloom filter</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#edgeHeartBeats-com.dreamlab.edgefs.thrift.EdgePayload-">edgeHeartBeats</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/EdgePayload.html" title="class in com.dreamlab.edgefs.thrift">EdgePayload</a>&nbsp;edgePayload)</code>
<div class="block">The regular Edge Heart beat,every message will be payloaded in this heart
 beat</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#edgeJoin-com.dreamlab.edgefs.thrift.EdgeInfoData-">edgeJoin</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/EdgeInfoData.html" title="class in com.dreamlab.edgefs.thrift">EdgeInfoData</a>&nbsp;edgeInfoData)</code>
<div class="block">Device Management API: This is called once at the joining of Edge Should
 update the local Edges
 TODO::Check killed edge joining again</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#edgeLeave-com.dreamlab.edgefs.thrift.EdgeInfoData-">edgeLeave</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/EdgeInfoData.html" title="class in com.dreamlab.edgefs.thrift">EdgeInfoData</a>&nbsp;edgeInfoData)</code>
<div class="block">Graceful exit, need to unregister the streamID</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/FindReplica.html" title="class in com.dreamlab.edgefs.thrift">FindReplica</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#find-long-boolean-boolean-com.dreamlab.edgefs.thrift.EdgeInfoData-">find</a></span>(long&nbsp;microbatchId,
    boolean&nbsp;checkNeighbors,
    boolean&nbsp;checkBuddies,
    <a href="../../../../com/dreamlab/edgefs/thrift/EdgeInfoData.html" title="class in com.dreamlab.edgefs.thrift">EdgeInfoData</a>&nbsp;selfInfo)</code>
<div class="block">selfInfo is the client information</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.nio.ByteBuffer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findNext-java.lang.String-">findNext</a></span>(java.lang.String&nbsp;microbatchId)</code>
<div class="block">Find all the micro batch ids whose metadata matches the given metadata query
 the call is returned to the client</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/QueryReplica.html" title="class in com.dreamlab.edgefs.thrift">QueryReplica</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#findUsingQuery-java.lang.String-java.lang.String-boolean-boolean-">findUsingQuery</a></span>(java.lang.String&nbsp;metadataKey,
              java.lang.String&nbsp;metadataValue,
              boolean&nbsp;checkNeighbors,
              boolean&nbsp;checkBuddies)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/FogInfoData.html" title="class in com.dreamlab.edgefs.thrift">FogInfoData</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getBuddyPoolMembers--">getBuddyPoolMembers</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/NeighborInfoData.html" title="class in com.dreamlab.edgefs.thrift">NeighborInfoData</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getCandidatePool-double-short-">getCandidatePool</a></span>(double&nbsp;reliability,
                short&nbsp;pmin)</code>
<div class="block">This call is made by a referrer fog to its buddy, because the candidate pools
 size were less than pmin So the called on buddy will send the candidates in
 its buddy pool back to the referrer's fog</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getDelK--">getDelK</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/controlplane/Fog.html" title="class in com.dreamlab.edgefs.controlplane">Fog</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getFog--">getFog</a></span>()</code>
<div class="block">Getters and setters</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getLargestBlockId-java.lang.String-">getLargestBlockId</a></span>(java.lang.String&nbsp;streamId)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/ReadReplica.html" title="class in com.dreamlab.edgefs.thrift">ReadReplica</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getMeta-long-boolean-boolean-">getMeta</a></span>(long&nbsp;microbatchId,
       boolean&nbsp;checkNeighbors,
       boolean&nbsp;checkBuddies)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/NeighborCount.html" title="class in com.dreamlab.edgefs.thrift">NeighborCount</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getNeighborCountPerPool--">getNeighborCountPerPool</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/NodeInfoData.html" title="class in com.dreamlab.edgefs.thrift">NodeInfoData</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getPoolMember-short-">getPoolMember</a></span>(short&nbsp;buddyPoolId)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/StreamMetadataInfo.html" title="class in com.dreamlab.edgefs.thrift">StreamMetadataInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getStreamMetadata-java.lang.String-boolean-boolean-boolean-">getStreamMetadata</a></span>(java.lang.String&nbsp;streamId,
                 boolean&nbsp;checkNeighbors,
                 boolean&nbsp;checkBuddies,
                 boolean&nbsp;forceLatest)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/StreamMetadata.html" title="class in com.dreamlab.edgefs.thrift">StreamMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getStreamMetadataFromOwner-java.lang.String-">getStreamMetadataFromOwner</a></span>(java.lang.String&nbsp;streamId)</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/WritableFogData.html" title="class in com.dreamlab.edgefs.thrift">WritableFogData</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getWriteLocations-byte-com.dreamlab.edgefs.thrift.Metadata-java.util.List-boolean-">getWriteLocations</a></span>(byte&nbsp;dataLength,
                 <a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;metadata,
                 java.util.List&lt;java.lang.Short&gt;&nbsp;blackListedFogs,
                 boolean&nbsp;isEdge)</code>
<div class="block">the blackListedFogs will be null on initial client request but in case some
 returned Fog is not able to serve the request, then client again requests
 some Fog with the id of that Fog so that it is not returned again</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/WritableFogData.html" title="class in com.dreamlab.edgefs.thrift">WritableFogData</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#identifyReplicas-long-long-boolean-double-int-int-">identifyReplicas</a></span>(long&nbsp;mbId,
                long&nbsp;dataLength,
                boolean&nbsp;isEdge,
                double&nbsp;expectedReliability,
                int&nbsp;minReplica,
                int&nbsp;maxReplica)</code>
<div class="block">This will perform the selection of replicas for a given metadata</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/BlockMetadataUpdateResponse.html" title="class in com.dreamlab.edgefs.thrift">BlockMetadataUpdateResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#incrementBlockCount-com.dreamlab.edgefs.thrift.Metadata-boolean-">incrementBlockCount</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;mbMetadata,
                   boolean&nbsp;setLease)</code>
<div class="block">This is called once the writes are done and the lastBlockId as well as the MD5 of
 the recently written block should be made available at the owner fog of the stream.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/TwoPhaseCommitResponse.html" title="class in com.dreamlab.edgefs.thrift">TwoPhaseCommitResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#initiate2PhaseCommit-com.dreamlab.edgefs.thrift.TwoPhaseCommitRequest-">initiate2PhaseCommit</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/TwoPhaseCommitRequest.html" title="class in com.dreamlab.edgefs.thrift">TwoPhaseCommitRequest</a>&nbsp;commitRequest)</code>
<div class="block">2 Phase commit : Phase 2,</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/TwoPhasePreCommitResponse.html" title="class in com.dreamlab.edgefs.thrift">TwoPhasePreCommitResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#initiate2PhasePreCommit-com.dreamlab.edgefs.thrift.TwoPhasePreCommitRequest-">initiate2PhasePreCommit</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/TwoPhasePreCommitRequest.html" title="class in com.dreamlab.edgefs.thrift">TwoPhasePreCommitRequest</a>&nbsp;preCommitRequest)</code>
<div class="block">Pre-Commit phase in 2PC, checks if node size is breached before admitting any
 fog node</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#insertMetadata-com.dreamlab.edgefs.thrift.Metadata-com.dreamlab.edgefs.thrift.EdgeInfoData-">insertMetadata</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;mbMetadata,
              <a href="../../../../com/dreamlab/edgefs/thrift/EdgeInfoData.html" title="class in com.dreamlab.edgefs.thrift">EdgeInfoData</a>&nbsp;edgeInfoData)</code>
<div class="block">this may not be needed now, see comment in <a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getWriteLocations-byte-com.dreamlab.edgefs.thrift.Metadata-java.util.List-boolean-"><code>method</code></a>
 Update the arguments required with additional edgeId and call the method
 updateMicrobatchLocalInfo to update metadata
 updateMicrobatchLocalInfo(Metadata mbMetadata, EdgeInfo edgeInfo)
 TODO:: This is invoked by the Edge client in case of a local write, this 
 client should calculate the MD5 checksum and pass that checksum in the metadata</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#intentToWrite-byte-">intentToWrite</a></span>(byte&nbsp;clientId)</code>
<div class="block">Maybe not needed right now</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#isLock--">isLock</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/NeighborInfoData.html" title="class in com.dreamlab.edgefs.thrift">NeighborInfoData</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#joinCluster-com.dreamlab.edgefs.thrift.FogInfoData-short-short-">joinCluster</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/FogInfoData.html" title="class in com.dreamlab.edgefs.thrift">FogInfoData</a>&nbsp;NodeX,
           short&nbsp;pmin,
           short&nbsp;pmax)</code>
<div class="block">The joining node requests the Fog Referrer to send it candidates of buddy
 pool between pmin and pmax</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/TwoPhaseCommitResponse.html" title="class in com.dreamlab.edgefs.thrift">TwoPhaseCommitResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#joinPool-com.dreamlab.edgefs.thrift.FogInfoData-">joinPool</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/FogInfoData.html" title="class in com.dreamlab.edgefs.thrift">FogInfoData</a>&nbsp;NodeX)</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#neighborHeartBeat-com.dreamlab.edgefs.thrift.NeighborPayload-">neighborHeartBeat</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/NeighborPayload.html" title="class in com.dreamlab.edgefs.thrift">NeighborPayload</a>&nbsp;payload)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#nodeJoiningComplete--">nodeJoiningComplete</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/OpenStreamResponse.html" title="class in com.dreamlab.edgefs.thrift">OpenStreamResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#open-java.lang.String-java.lang.String-int-boolean-">open</a></span>(java.lang.String&nbsp;streamId,
    java.lang.String&nbsp;clientId,
    int&nbsp;expectedLeasem,
    boolean&nbsp;setLease)</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/WriteResponse.html" title="class in com.dreamlab.edgefs.thrift">WriteResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#putNext-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-">putNext</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;mbMetadata,
       java.nio.ByteBuffer&nbsp;data,
       <a href="../../../../com/dreamlab/edgefs/thrift/WritePreference.html" title="enum in com.dreamlab.edgefs.thrift">WritePreference</a>&nbsp;preference)</code>&nbsp;</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/ReadReplica.html" title="class in com.dreamlab.edgefs.thrift">ReadReplica</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#read-long-boolean-">read</a></span>(long&nbsp;microbatchId,
    boolean&nbsp;fetchMetadata)</code>&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#registerStream-java.lang.String-com.dreamlab.edgefs.thrift.StreamMetadata-long-">registerStream</a></span>(java.lang.String&nbsp;streamId,
              <a href="../../../../com/dreamlab/edgefs/thrift/StreamMetadata.html" title="class in com.dreamlab.edgefs.thrift">StreamMetadata</a>&nbsp;metadata,
              long&nbsp;startSequenceNum)</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/StreamLeaseRenewalResponse.html" title="class in com.dreamlab.edgefs.thrift">StreamLeaseRenewalResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#renewLease-java.lang.String-java.lang.String-java.lang.String-int-boolean-">renewLease</a></span>(java.lang.String&nbsp;streamId,
          java.lang.String&nbsp;clientId,
          java.lang.String&nbsp;sessionSecret,
          int&nbsp;expectedLease,
          boolean&nbsp;setLease)</code>&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/NeighborInfoData.html" title="class in com.dreamlab.edgefs.thrift">NeighborInfoData</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#requestNeighbors-java.util.Map-">requestNeighbors</a></span>(java.util.Map&lt;java.lang.Short,java.lang.Short&gt;&nbsp;requestMap)</code>&nbsp;</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#serializeState--">serializeState</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#setDelK-int-">setDelK</a></span>(int&nbsp;delK)</code>
<div class="block">Synchronized because multiple fogs might try to join</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#setFog-com.dreamlab.edgefs.controlplane.Fog-">setFog</a></span>(<a href="../../../../com/dreamlab/edgefs/controlplane/Fog.html" title="class in com.dreamlab.edgefs.controlplane">Fog</a>&nbsp;fog)</code>&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#setLock-boolean-">setLock</a></span>(boolean&nbsp;lock)</code>&nbsp;</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#subscribe-com.dreamlab.edgefs.thrift.NodeInfoData-">subscribe</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/NodeInfoData.html" title="class in com.dreamlab.edgefs.thrift">NodeInfoData</a>&nbsp;nodeInfoData)</code>&nbsp;</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#terminate-java.lang.String-">terminate</a></span>(java.lang.String&nbsp;streamId)</code>
<div class="block">unregister the stream ID, this is the call from the edge client which is
 producing the stream
 
 On the other end, it will delete the local directory mount.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/StreamMetadataUpdateResponse.html" title="class in com.dreamlab.edgefs.thrift">StreamMetadataUpdateResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#updateStreamMetadata-com.dreamlab.edgefs.thrift.StreamMetadata-">updateStreamMetadata</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/StreamMetadata.html" title="class in com.dreamlab.edgefs.thrift">StreamMetadata</a>&nbsp;metadata)</code>&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code><a href="../../../../com/dreamlab/edgefs/thrift/WriteResponse.html" title="class in com.dreamlab.edgefs.thrift">WriteResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#write-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-">write</a></span>(<a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;mbMetadata,
     java.nio.ByteBuffer&nbsp;data,
     <a href="../../../../com/dreamlab/edgefs/thrift/WritePreference.html" title="enum in com.dreamlab.edgefs.thrift">WritePreference</a>&nbsp;preference)</code>&nbsp;</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/NodeInfoData.html" title="class in com.dreamlab.edgefs.thrift">NodeInfoData</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#writeNext-java.lang.String-com.dreamlab.edgefs.thrift.Metadata-byte-">writeNext</a></span>(java.lang.String&nbsp;sessionId,
         <a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;mbData,
         byte&nbsp;dataLength)</code>
<div class="block">We are not supporting this feature as of now</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FogServiceHandler-com.dreamlab.edgefs.controlplane.Fog-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FogServiceHandler</h4>
<pre>public&nbsp;FogServiceHandler(<a href="../../../../com/dreamlab/edgefs/controlplane/Fog.html" title="class in com.dreamlab.edgefs.controlplane">Fog</a>&nbsp;fog)</pre>
</li>
</ul>
<a name="FogServiceHandler--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FogServiceHandler</h4>
<pre>public&nbsp;FogServiceHandler()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getFog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFog</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/controlplane/Fog.html" title="class in com.dreamlab.edgefs.controlplane">Fog</a>&nbsp;getFog()</pre>
<div class="block">Getters and setters</div>
</li>
</ul>
<a name="setFog-com.dreamlab.edgefs.controlplane.Fog-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFog</h4>
<pre>public&nbsp;void&nbsp;setFog(<a href="../../../../com/dreamlab/edgefs/controlplane/Fog.html" title="class in com.dreamlab.edgefs.controlplane">Fog</a>&nbsp;fog)</pre>
</li>
</ul>
<a name="isLock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLock</h4>
<pre>public&nbsp;boolean&nbsp;isLock()</pre>
</li>
</ul>
<a name="setLock-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLock</h4>
<pre>public&nbsp;void&nbsp;setLock(boolean&nbsp;lock)</pre>
</li>
</ul>
<a name="getDelK--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDelK</h4>
<pre>public&nbsp;int&nbsp;getDelK()</pre>
</li>
</ul>
<a name="setDelK-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDelK</h4>
<pre>public&nbsp;void&nbsp;setDelK(int&nbsp;delK)</pre>
<div class="block">Synchronized because multiple fogs might try to join</div>
</li>
</ul>
<a name="bootstrapFog-com.dreamlab.edgefs.thrift.FogInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bootstrapFog</h4>
<pre>public&nbsp;java.lang.String&nbsp;bootstrapFog(<a href="../../../../com/dreamlab/edgefs/thrift/FogInfoData.html" title="class in com.dreamlab.edgefs.thrift">FogInfoData</a>&nbsp;NodeX)
                              throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#bootstrapFog-com.dreamlab.edgefs.thrift.FogInfoData-">bootstrapFog</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>NodeX</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="joinCluster-com.dreamlab.edgefs.thrift.FogInfoData-short-short-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinCluster</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/NeighborInfoData.html" title="class in com.dreamlab.edgefs.thrift">NeighborInfoData</a>&gt;&nbsp;joinCluster(<a href="../../../../com/dreamlab/edgefs/thrift/FogInfoData.html" title="class in com.dreamlab.edgefs.thrift">FogInfoData</a>&nbsp;NodeX,
                                                    short&nbsp;pmin,
                                                    short&nbsp;pmax)
                                             throws org.apache.thrift.TException</pre>
<div class="block">The joining node requests the Fog Referrer to send it candidates of buddy
 pool between pmin and pmax</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#joinCluster-com.dreamlab.edgefs.thrift.FogInfoData-short-short-">joinCluster</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>NodeX</code> - the joining node</dd>
<dd><code>pmin</code> - the lower bound of buddy pool candidates</dd>
<dd><code>pmax</code> - the upper bound of buddy pool candidates</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List<Neighbor> back to the joining client fog</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getCandidatePool-double-short-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCandidatePool</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/NeighborInfoData.html" title="class in com.dreamlab.edgefs.thrift">NeighborInfoData</a>&gt;&nbsp;getCandidatePool(double&nbsp;reliability,
                                                         short&nbsp;pmin)
                                                  throws org.apache.thrift.TException</pre>
<div class="block">This call is made by a referrer fog to its buddy, because the candidate pools
 size were less than pmin So the called on buddy will send the candidates in
 its buddy pool back to the referrer's fog</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#getCandidatePool-double-short-">getCandidatePool</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reliability</code> - Reliability of the joining fog</dd>
<dd><code>pmin</code> - the minimum number of pools needed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List<Neighbor> back to the referrer fog</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="joinPool-com.dreamlab.edgefs.thrift.FogInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinPool</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/TwoPhaseCommitResponse.html" title="class in com.dreamlab.edgefs.thrift">TwoPhaseCommitResponse</a>&nbsp;joinPool(<a href="../../../../com/dreamlab/edgefs/thrift/FogInfoData.html" title="class in com.dreamlab.edgefs.thrift">FogInfoData</a>&nbsp;NodeX)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#joinPool-com.dreamlab.edgefs.thrift.FogInfoData-">joinPool</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>NodeX</code> - The joining Node</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>YES OR NO, NO means failed to join, YES means NODEX joined the pool</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code> - missing feature : Unable to communicate to buddy, timeout
                    occurs, move on and make a decision missing feature :
                    Maintain state until the decision is communicated</dd>
</dl>
</li>
</ul>
<a name="initiate2PhasePreCommit-com.dreamlab.edgefs.thrift.TwoPhasePreCommitRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initiate2PhasePreCommit</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/TwoPhasePreCommitResponse.html" title="class in com.dreamlab.edgefs.thrift">TwoPhasePreCommitResponse</a>&nbsp;initiate2PhasePreCommit(<a href="../../../../com/dreamlab/edgefs/thrift/TwoPhasePreCommitRequest.html" title="class in com.dreamlab.edgefs.thrift">TwoPhasePreCommitRequest</a>&nbsp;preCommitRequest)</pre>
<div class="block">Pre-Commit phase in 2PC, checks if node size is breached before admitting any
 fog node</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#initiate2PhasePreCommit-com.dreamlab.edgefs.thrift.TwoPhasePreCommitRequest-">initiate2PhasePreCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preCommitRequest</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>TwoPhasePreCommitResponse</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="initiate2PhaseCommit-com.dreamlab.edgefs.thrift.TwoPhaseCommitRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initiate2PhaseCommit</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/TwoPhaseCommitResponse.html" title="class in com.dreamlab.edgefs.thrift">TwoPhaseCommitResponse</a>&nbsp;initiate2PhaseCommit(<a href="../../../../com/dreamlab/edgefs/thrift/TwoPhaseCommitRequest.html" title="class in com.dreamlab.edgefs.thrift">TwoPhaseCommitRequest</a>&nbsp;commitRequest)</pre>
<div class="block">2 Phase commit : Phase 2,</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#initiate2PhaseCommit-com.dreamlab.edgefs.thrift.TwoPhaseCommitRequest-">initiate2PhaseCommit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commitRequest</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>STATUS_YES if already in PRE_COMMIT for the joining NODE, else return
         STATUS_NO</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getPoolMember-short-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPoolMember</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/NodeInfoData.html" title="class in com.dreamlab.edgefs.thrift">NodeInfoData</a>&nbsp;getPoolMember(short&nbsp;buddyPoolId)
                           throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#getPoolMember-short-">getPoolMember</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getBuddyPoolMembers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuddyPoolMembers</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/FogInfoData.html" title="class in com.dreamlab.edgefs.thrift">FogInfoData</a>&gt;&nbsp;getBuddyPoolMembers()
                                                throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#getBuddyPoolMembers--">getBuddyPoolMembers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getNeighborCountPerPool--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNeighborCountPerPool</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/NeighborCount.html" title="class in com.dreamlab.edgefs.thrift">NeighborCount</a>&nbsp;getNeighborCountPerPool()
                                      throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#getNeighborCountPerPool--">getNeighborCountPerPool</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="requestNeighbors-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestNeighbors</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/NeighborInfoData.html" title="class in com.dreamlab.edgefs.thrift">NeighborInfoData</a>&gt;&nbsp;requestNeighbors(java.util.Map&lt;java.lang.Short,java.lang.Short&gt;&nbsp;requestMap)
                                                  throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#requestNeighbors-java.util.Map-">requestNeighbors</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="nodeJoiningComplete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeJoiningComplete</h4>
<pre>public&nbsp;void&nbsp;nodeJoiningComplete()
                         throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#nodeJoiningComplete--">nodeJoiningComplete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="identifyReplicas-long-long-boolean-double-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>identifyReplicas</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/WritableFogData.html" title="class in com.dreamlab.edgefs.thrift">WritableFogData</a>&gt;&nbsp;identifyReplicas(long&nbsp;mbId,
                                                        long&nbsp;dataLength,
                                                        boolean&nbsp;isEdge,
                                                        double&nbsp;expectedReliability,
                                                        int&nbsp;minReplica,
                                                        int&nbsp;maxReplica)</pre>
<div class="block">This will perform the selection of replicas for a given metadata</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataLength</code> - It is called from <a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getWriteLocations-byte-com.dreamlab.edgefs.thrift.Metadata-java.util.List-boolean-"><code>getWriteLocations(byte, com.dreamlab.edgefs.thrift.Metadata, java.util.List&lt;java.lang.Short&gt;, boolean)</code></a> wherein we receive the encoded
 value of storage space as a byte and send to this method the datalength in MB</dd>
</dl>
</li>
</ul>
<a name="subscribe-com.dreamlab.edgefs.thrift.NodeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre>public&nbsp;boolean&nbsp;subscribe(<a href="../../../../com/dreamlab/edgefs/thrift/NodeInfoData.html" title="class in com.dreamlab.edgefs.thrift">NodeInfoData</a>&nbsp;nodeInfoData)
                  throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#subscribe-com.dreamlab.edgefs.thrift.NodeInfoData-">subscribe</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="checkConsolidatedNeighborBloomFilter-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkConsolidatedNeighborBloomFilter</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/model/NodeInfo.html" title="class in com.dreamlab.edgefs.model">NodeInfo</a>&nbsp;checkConsolidatedNeighborBloomFilter(java.lang.String&nbsp;microbatchID)</pre>
<div class="block">Bloom filter searches from the consolidated neighbor buddy bloom filter</div>
</li>
</ul>
<a name="edgeHeartBeats-com.dreamlab.edgefs.thrift.EdgePayload-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>edgeHeartBeats</h4>
<pre>public&nbsp;boolean&nbsp;edgeHeartBeats(<a href="../../../../com/dreamlab/edgefs/thrift/EdgePayload.html" title="class in com.dreamlab.edgefs.thrift">EdgePayload</a>&nbsp;edgePayload)
                       throws org.apache.thrift.TException</pre>
<div class="block">The regular Edge Heart beat,every message will be payloaded in this heart
 beat</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#edgeHeartBeats-com.dreamlab.edgefs.thrift.EdgePayload-">edgeHeartBeats</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="edgeJoin-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>edgeJoin</h4>
<pre>public&nbsp;byte&nbsp;edgeJoin(<a href="../../../../com/dreamlab/edgefs/thrift/EdgeInfoData.html" title="class in com.dreamlab.edgefs.thrift">EdgeInfoData</a>&nbsp;edgeInfoData)
              throws org.apache.thrift.TException</pre>
<div class="block">Device Management API: This is called once at the joining of Edge Should
 update the local Edges
 TODO::Check killed edge joining again</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#edgeJoin-com.dreamlab.edgefs.thrift.EdgeInfoData-">edgeJoin</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="terminate-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>public&nbsp;byte&nbsp;terminate(java.lang.String&nbsp;streamId)
               throws org.apache.thrift.TException</pre>
<div class="block">unregister the stream ID, this is the call from the edge client which is
 producing the stream
 
 On the other end, it will delete the local directory mount.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#terminate-java.lang.String-">terminate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="registerStream-java.lang.String-com.dreamlab.edgefs.thrift.StreamMetadata-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerStream</h4>
<pre>public&nbsp;byte&nbsp;registerStream(java.lang.String&nbsp;streamId,
                           <a href="../../../../com/dreamlab/edgefs/thrift/StreamMetadata.html" title="class in com.dreamlab.edgefs.thrift">StreamMetadata</a>&nbsp;metadata,
                           long&nbsp;startSequenceNum)
                    throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#registerStream-java.lang.String-com.dreamlab.edgefs.thrift.StreamMetadata-long-">registerStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="open-java.lang.String-java.lang.String-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/OpenStreamResponse.html" title="class in com.dreamlab.edgefs.thrift">OpenStreamResponse</a>&nbsp;open(java.lang.String&nbsp;streamId,
                               java.lang.String&nbsp;clientId,
                               int&nbsp;expectedLeasem,
                               boolean&nbsp;setLease)
                        throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#open-java.lang.String-java.lang.String-int-boolean-">open</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="intentToWrite-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>intentToWrite</h4>
<pre>public&nbsp;java.lang.String&nbsp;intentToWrite(byte&nbsp;clientId)
                               throws org.apache.thrift.TException</pre>
<div class="block">Maybe not needed right now</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#intentToWrite-byte-">intentToWrite</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="writeNext-java.lang.String-com.dreamlab.edgefs.thrift.Metadata-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/NodeInfoData.html" title="class in com.dreamlab.edgefs.thrift">NodeInfoData</a>&gt;&nbsp;writeNext(java.lang.String&nbsp;sessionId,
                                              <a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;mbData,
                                              byte&nbsp;dataLength)
                                       throws org.apache.thrift.TException</pre>
<div class="block">We are not supporting this feature as of now</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#writeNext-java.lang.String-com.dreamlab.edgefs.thrift.Metadata-byte-">writeNext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="find-long-boolean-boolean-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>find</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/FindReplica.html" title="class in com.dreamlab.edgefs.thrift">FindReplica</a>&gt;&nbsp;find(long&nbsp;microbatchId,
                                        boolean&nbsp;checkNeighbors,
                                        boolean&nbsp;checkBuddies,
                                        <a href="../../../../com/dreamlab/edgefs/thrift/EdgeInfoData.html" title="class in com.dreamlab.edgefs.thrift">EdgeInfoData</a>&nbsp;selfInfo)
                                 throws org.apache.thrift.TException</pre>
<div class="block">selfInfo is the client information</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#find-long-boolean-boolean-com.dreamlab.edgefs.thrift.EdgeInfoData-">find</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="read-long-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/ReadReplica.html" title="class in com.dreamlab.edgefs.thrift">ReadReplica</a>&nbsp;read(long&nbsp;microbatchId,
                        boolean&nbsp;fetchMetadata)
                 throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#read-long-boolean-">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getMeta-long-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMeta</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/ReadReplica.html" title="class in com.dreamlab.edgefs.thrift">ReadReplica</a>&nbsp;getMeta(long&nbsp;microbatchId,
                           boolean&nbsp;checkNeighbors,
                           boolean&nbsp;checkBuddies)
                    throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#getMeta-long-boolean-boolean-">getMeta</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="findUsingQuery-java.lang.String-java.lang.String-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findUsingQuery</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/QueryReplica.html" title="class in com.dreamlab.edgefs.thrift">QueryReplica</a>&nbsp;findUsingQuery(java.lang.String&nbsp;metadataKey,
                                   java.lang.String&nbsp;metadataValue,
                                   boolean&nbsp;checkNeighbors,
                                   boolean&nbsp;checkBuddies)
                            throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#findUsingQuery-java.lang.String-java.lang.String-boolean-boolean-">findUsingQuery</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="findNext-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findNext</h4>
<pre>public&nbsp;java.nio.ByteBuffer&nbsp;findNext(java.lang.String&nbsp;microbatchId)
                             throws org.apache.thrift.TException</pre>
<div class="block">Find all the micro batch ids whose metadata matches the given metadata query
 the call is returned to the client</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#findNext-java.lang.String-">findNext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="insertMetadata-com.dreamlab.edgefs.thrift.Metadata-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertMetadata</h4>
<pre>public&nbsp;byte&nbsp;insertMetadata(<a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;mbMetadata,
                           <a href="../../../../com/dreamlab/edgefs/thrift/EdgeInfoData.html" title="class in com.dreamlab.edgefs.thrift">EdgeInfoData</a>&nbsp;edgeInfoData)
                    throws org.apache.thrift.TException</pre>
<div class="block">this may not be needed now, see comment in <a href="../../../../com/dreamlab/edgefs/servicehandler/FogServiceHandler.html#getWriteLocations-byte-com.dreamlab.edgefs.thrift.Metadata-java.util.List-boolean-"><code>method</code></a>
 Update the arguments required with additional edgeId and call the method
 updateMicrobatchLocalInfo to update metadata
 updateMicrobatchLocalInfo(Metadata mbMetadata, EdgeInfo edgeInfo)
 TODO:: This is invoked by the Edge client in case of a local write, this 
 client should calculate the MD5 checksum and pass that checksum in the metadata</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#insertMetadata-com.dreamlab.edgefs.thrift.Metadata-com.dreamlab.edgefs.thrift.EdgeInfoData-">insertMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getWriteLocations-byte-com.dreamlab.edgefs.thrift.Metadata-java.util.List-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteLocations</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/dreamlab/edgefs/thrift/WritableFogData.html" title="class in com.dreamlab.edgefs.thrift">WritableFogData</a>&gt;&nbsp;getWriteLocations(byte&nbsp;dataLength,
                                                         <a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;metadata,
                                                         java.util.List&lt;java.lang.Short&gt;&nbsp;blackListedFogs,
                                                         boolean&nbsp;isEdge)
                                                  throws org.apache.thrift.TException</pre>
<div class="block">the blackListedFogs will be null on initial client request but in case some
 returned Fog is not able to serve the request, then client again requests
 some Fog with the id of that Fog so that it is not returned again</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#getWriteLocations-byte-com.dreamlab.edgefs.thrift.Metadata-java.util.List-boolean-">getWriteLocations</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getStreamMetadata-java.lang.String-boolean-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStreamMetadata</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/StreamMetadataInfo.html" title="class in com.dreamlab.edgefs.thrift">StreamMetadataInfo</a>&nbsp;getStreamMetadata(java.lang.String&nbsp;streamId,
                                            boolean&nbsp;checkNeighbors,
                                            boolean&nbsp;checkBuddies,
                                            boolean&nbsp;forceLatest)
                                     throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#getStreamMetadata-java.lang.String-boolean-boolean-boolean-">getStreamMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getStreamMetadataFromOwner-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStreamMetadataFromOwner</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/StreamMetadata.html" title="class in com.dreamlab.edgefs.thrift">StreamMetadata</a>&nbsp;getStreamMetadataFromOwner(java.lang.String&nbsp;streamId)
                                          throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#getStreamMetadataFromOwner-java.lang.String-">getStreamMetadataFromOwner</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="write-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/WriteResponse.html" title="class in com.dreamlab.edgefs.thrift">WriteResponse</a>&nbsp;write(<a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;mbMetadata,
                           java.nio.ByteBuffer&nbsp;data,
                           <a href="../../../../com/dreamlab/edgefs/thrift/WritePreference.html" title="enum in com.dreamlab.edgefs.thrift">WritePreference</a>&nbsp;preference)
                    throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#write-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="edgeLeave-com.dreamlab.edgefs.thrift.EdgeInfoData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>edgeLeave</h4>
<pre>public&nbsp;byte&nbsp;edgeLeave(<a href="../../../../com/dreamlab/edgefs/thrift/EdgeInfoData.html" title="class in com.dreamlab.edgefs.thrift">EdgeInfoData</a>&nbsp;edgeInfoData)
               throws org.apache.thrift.TException</pre>
<div class="block">Graceful exit, need to unregister the streamID</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#edgeLeave-com.dreamlab.edgefs.thrift.EdgeInfoData-">edgeLeave</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="neighborHeartBeat-com.dreamlab.edgefs.thrift.NeighborPayload-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>neighborHeartBeat</h4>
<pre>public&nbsp;void&nbsp;neighborHeartBeat(<a href="../../../../com/dreamlab/edgefs/thrift/NeighborPayload.html" title="class in com.dreamlab.edgefs.thrift">NeighborPayload</a>&nbsp;payload)
                       throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#neighborHeartBeat-com.dreamlab.edgefs.thrift.NeighborPayload-">neighborHeartBeat</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="buddyHeartBeat-com.dreamlab.edgefs.thrift.BuddyPayload-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buddyHeartBeat</h4>
<pre>public&nbsp;void&nbsp;buddyHeartBeat(<a href="../../../../com/dreamlab/edgefs/thrift/BuddyPayload.html" title="class in com.dreamlab.edgefs.thrift">BuddyPayload</a>&nbsp;payload)
                    throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#buddyHeartBeat-com.dreamlab.edgefs.thrift.BuddyPayload-">buddyHeartBeat</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="serializeState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serializeState</h4>
<pre>public&nbsp;byte&nbsp;serializeState()
                    throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#serializeState--">serializeState</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="updateStreamMetadata-com.dreamlab.edgefs.thrift.StreamMetadata-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateStreamMetadata</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/StreamMetadataUpdateResponse.html" title="class in com.dreamlab.edgefs.thrift">StreamMetadataUpdateResponse</a>&nbsp;updateStreamMetadata(<a href="../../../../com/dreamlab/edgefs/thrift/StreamMetadata.html" title="class in com.dreamlab.edgefs.thrift">StreamMetadata</a>&nbsp;metadata)
                                                  throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#updateStreamMetadata-com.dreamlab.edgefs.thrift.StreamMetadata-">updateStreamMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="putNext-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putNext</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/WriteResponse.html" title="class in com.dreamlab.edgefs.thrift">WriteResponse</a>&nbsp;putNext(<a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;mbMetadata,
                             java.nio.ByteBuffer&nbsp;data,
                             <a href="../../../../com/dreamlab/edgefs/thrift/WritePreference.html" title="enum in com.dreamlab.edgefs.thrift">WritePreference</a>&nbsp;preference)
                      throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#putNext-com.dreamlab.edgefs.thrift.Metadata-java.nio.ByteBuffer-com.dreamlab.edgefs.thrift.WritePreference-">putNext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="incrementBlockCount-com.dreamlab.edgefs.thrift.Metadata-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incrementBlockCount</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/BlockMetadataUpdateResponse.html" title="class in com.dreamlab.edgefs.thrift">BlockMetadataUpdateResponse</a>&nbsp;incrementBlockCount(<a href="../../../../com/dreamlab/edgefs/thrift/Metadata.html" title="class in com.dreamlab.edgefs.thrift">Metadata</a>&nbsp;mbMetadata,
                                                       boolean&nbsp;setLease)
                                                throws org.apache.thrift.TException</pre>
<div class="block">This is called once the writes are done and the lastBlockId as well as the MD5 of
 the recently written block should be made available at the owner fog of the stream.
 This method uses streamOpenLock which is shared among this, open() and renewLease()
 methods so check carefully for serializing lock acquisition and behaviour</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#incrementBlockCount-com.dreamlab.edgefs.thrift.Metadata-boolean-">incrementBlockCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="renewLease-java.lang.String-java.lang.String-java.lang.String-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renewLease</h4>
<pre>public&nbsp;<a href="../../../../com/dreamlab/edgefs/thrift/StreamLeaseRenewalResponse.html" title="class in com.dreamlab.edgefs.thrift">StreamLeaseRenewalResponse</a>&nbsp;renewLease(java.lang.String&nbsp;streamId,
                                             java.lang.String&nbsp;clientId,
                                             java.lang.String&nbsp;sessionSecret,
                                             int&nbsp;expectedLease,
                                             boolean&nbsp;setLease)
                                      throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#renewLease-java.lang.String-java.lang.String-java.lang.String-int-boolean-">renewLease</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
<a name="getLargestBlockId-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLargestBlockId</h4>
<pre>public&nbsp;long&nbsp;getLargestBlockId(java.lang.String&nbsp;streamId)
                       throws org.apache.thrift.TException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html#getLargestBlockId-java.lang.String-">getLargestBlockId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/dreamlab/edgefs/thrift/FogService.Iface.html" title="interface in com.dreamlab.edgefs.thrift">FogService.Iface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.thrift.TException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FogServiceHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/dreamlab/edgefs/servicehandler/FogServiceHandler.html" target="_top">Frames</a></li>
<li><a href="FogServiceHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
